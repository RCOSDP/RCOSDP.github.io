
<!DOCTYPE HTML>
<html lang="ja" >
    <head>
        <meta charset="UTF-8">
        <title>API-5: Index操作API 7 · 機能仕様書</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="HonKit 6.1.4">
        <meta name="author" content="Research Center for Open Science and Data Platform, National Institute of Informatics">
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-intopic-toc/style.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-back-to-top-button/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-anchors/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-collapsible-chapters/collapsible-chapters.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/honkit-plugin-prism/prism.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/@honkit/honkit-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="API_06_sword_api.html" />
    
    
    <link rel="prev" href="API_04_workflow.html" />
    

    </head>
    <body>
        
<div class="book honkit-cloak">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="検索ワードを入力" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        <li class="header">ユーザ機能</li>
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">アイテム検索</li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="../user/USER_1_1.html">
            
                <a href="../user/USER_1_1.html">
            
                    
                    USER-1-1: 簡易検索（全文検索・キーワード検索） 1
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="../user/USER_1_2.html">
            
                <a href="../user/USER_1_2.html">
            
                    
                    USER-1-2: 詳細検索 4
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="../user/USER_1_3.html">
            
                <a href="../user/USER_1_3.html">
            
                    
                    USER-1-3: インデックス検索 11
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4" data-path="../user/USER_1_4.html">
            
                <a href="../user/USER_1_4.html">
            
                    
                    USER-1-4: ファセット検索 16
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.5" data-path="../user/USER_1_5.html">
            
                <a href="../user/USER_1_5.html">
            
                    
                    USER-1-5: RSS 19
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.6" data-path="../user/USER_2_1.html">
            
                <a href="../user/USER_2_1.html">
            
                    
                    USER-2-1: 一覧形式表示 23
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.7" data-path="../user/USER_2_2.html">
            
                <a href="../user/USER_2_2.html">
            
                    
                    USER-2-2: 目次形式表示 28
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.8" data-path="../user/USER_2_3.html">
            
                <a href="../user/USER_2_3.html">
            
                    
                    USER-2-3: 雑誌情報 32
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.9" data-path="../user/USER_2_4.html">
            
                <a href="../user/USER_2_4.html">
            
                    
                    USER-2-4: アイテム一括出力 38
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.10" data-path="../user/USER_3_1.html">
            
                <a href="../user/USER_3_1.html">
            
                    
                    USER-3-1: メタデータ表示 44
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.11" data-path="../user/USER_3_2.html">
            
                <a href="../user/USER_3_2.html">
            
                    
                    USER-3-2: コンテンツファイル管理 51
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.12" data-path="../user/USER_3_3.html">
            
                <a href="../user/USER_3_3.html">
            
                    
                    USER-3-3: アイテムバージョン管理 63
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.13" data-path="../user/USER_3_4.html">
            
                <a href="../user/USER_3_4.html">
            
                    
                    USER-3-4: 引用情報表示 66
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14" data-path="../user/USER_3_5.html">
            
                <a href="../user/USER_3_5.html">
            
                    
                    USER-3-5: 統計情報表示 69
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.15" data-path="../user/USER_3_6.html">
            
                <a href="../user/USER_3_6.html">
            
                    
                    USER-3-6: 共有 72
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.16" data-path="../user/USER_3_7.html">
            
                <a href="../user/USER_3_7.html">
            
                    
                    USER-3-7: エクスポート 73
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.17" data-path="../user/USER_3_8.html">
            
                <a href="../user/USER_3_8.html">
            
                    
                    USER-3-8: Google Scholar メタデータ出力 81
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.18" data-path="../user/USER_3_9.html">
            
                <a href="../user/USER_3_9.html">
            
                    
                    USER-3-9: Google Dataset メタデータ出力 83
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.19" data-path="../user/USER_3_10.html">
            
                <a href="../user/USER_3_10.html">
            
                    
                    USER-3-10: 所属コミュニティ情報表示
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.20" data-path="../user/USER_3_11.html">
            
                <a href="../user/USER_3_11.html">
            
                    
                    USER-3-11: リクエスト機能
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.21" data-path="../user/USER_3_12.html">
            
                <a href="../user/USER_3_12.html">
            
                    
                    USER-3-12: メールアドレス入力
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.22" data-path="../user/USER_3_13.html">
            
                <a href="../user/USER_3_13.html">
            
                    
                    USER-3-13: アイテム利用申請機能
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.23" data-path="../user/USER_4_1.html">
            
                <a href="../user/USER_4_1.html">
            
                    
                    USER-4-1: アクティビティ一覧表示 85
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.24" data-path="../user/USER_4_2.html">
            
                <a href="../user/USER_4_2.html">
            
                    
                    USER-4-2: ワークフロー一覧表示 95
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.25" data-path="../user/USER_4_3.html">
            
                <a href="../user/USER_4_3.html">
            
                    
                    USER-4-3: ワークフロー 4
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.26" data-path="../user/USER_4_4.html">
            
                <a href="../user/USER_4_4.html">
            
                    
                    USER-4-4: Item Registration 7
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.27" data-path="../user/USER_4_5.html">
            
                <a href="../user/USER_4_5.html">
            
                    
                    USER-4-5: Item Registration：ファイルアップロード 8
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.28" data-path="../user/USER_4_6.html">
            
                <a href="../user/USER_4_6.html">
            
                    
                    USER-4-6: Item Registration：メタデータ入力 23
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.29" data-path="../user/USER_4_7.html">
            
                <a href="../user/USER_4_7.html">
            
                    
                    USER-4-7: Item Registration：代理投稿 28
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.30" data-path="../user/USER_4_8.html">
            
                <a href="../user/USER_4_8.html">
            
                    
                    USER-4-8: Item Registration：フィードバックメール機能 30
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.31" data-path="../user/USER_4_9.html">
            
                <a href="../user/USER_4_9.html">
            
                    
                    USER-4-9: Item Registration：インデックス指定 34
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.32" data-path="../user/USER_4_14.html">
            
                <a href="../user/USER_4_14.html">
            
                    
                    USER-4-14: Item Registration：リクエストメール
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.33" data-path="../user/USER_4_16.html">
            
                <a href="../user/USER_4_16.html">
            
                    
                    USER-4-16: Item Registration：アイテム未登録時の制限公開機能
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.34" data-path="../user/USER_4_10.html">
            
                <a href="../user/USER_4_10.html">
            
                    
                    USER-4-10: Identifier Grant 36
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.35" data-path="../user/USER_4_11.html">
            
                <a href="../user/USER_4_11.html">
            
                    
                    USER-4-11: Item Link 45
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.36" data-path="../user/USER_4_12.html">
            
                <a href="../user/USER_4_12.html">
            
                    
                    USER-4-12: OA Policy Confirmation（現在非対応） 49
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.37" data-path="../user/USER_4_13.html">
            
                <a href="../user/USER_4_13.html">
            
                    
                    USER-4-13: Approval 51
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.38" data-path="../user/USER_4_15.html">
            
                <a href="../user/USER_4_15.html">
            
                    
                    USER-4-15: End
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.39" data-path="../user/USER_5_1.html">
            
                <a href="../user/USER_5_1.html">
            
                    
                    USER-5-1: コミュニティ 53
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.40" data-path="../user/USER_5_2.html">
            
                <a href="../user/USER_5_2.html">
            
                    
                    USER-5-2: コンテンツポリシー
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.41" data-path="../user/USER_6_1.html">
            
                <a href="../user/USER_6_1.html">
            
                    
                    USER-6-1: ランキング 55
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.42" data-path="../user/USER_7_1.html">
            
                <a href="../user/USER_7_1.html">
            
                    
                    USER-7-1: ファイルアップロード 61
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.43" data-path="../user/USER_7_2.html">
            
                <a href="../user/USER_7_2.html">
            
                    
                    USER-7-2: 言語切替 62
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.44" data-path="../user/USER_8_1.html">
            
                <a href="../user/USER_8_1.html">
            
                    
                    USER-8-1: サインアップ 63
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.45" data-path="../user/USER_8_2.html">
            
                <a href="../user/USER_8_2.html">
            
                    
                    USER-8-2: ログイン 65
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.46" data-path="../user/USER_8_3.html">
            
                <a href="../user/USER_8_3.html">
            
                    
                    USER-8-3: パスワードリセット 67
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.47" data-path="../user/USER_8_4.html">
            
                <a href="../user/USER_8_4.html">
            
                    
                    USER-8-4: ユーザープロファイル設定 69
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.48" data-path="../user/USER_8_5.html">
            
                <a href="../user/USER_8_5.html">
            
                    
                    USER-8-5: API設定 71
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.49" data-path="../user/USER_9_1.html">
            
                <a href="../user/USER_9_1.html">
            
                    
                    USER-9-1: Cookie使用確認画面表示 75
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.50" data-path="../user/USER_10_1.html">
            
                <a href="../user/USER_10_1.html">
            
                    
                    USER-10-1: アイテム一覧情報取得
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.51" data-path="../user/USER_10_2.html">
            
                <a href="../user/USER_10_2.html">
            
                    
                    USER-10-2: 簡易アイテム登録機能
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.52" data-path="../user/USER_10_3.html">
            
                <a href="../user/USER_10_3.html">
            
                    
                    USER-10-3: メタデータ自動補完機能
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.53" data-path="../admin/ADMIN_1_1.html">
            
                <a href="../admin/ADMIN_1_1.html">
            
                    
                    ADMIN-1-1: メタデータ 76
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.54" data-path="../admin/ADMIN_1_2.html">
            
                <a href="../admin/ADMIN_1_2.html">
            
                    
                    ADMIN-1-2: マッピング 84
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.55" data-path="../admin/ADMIN_1_3.html">
            
                <a href="../admin/ADMIN_1_3.html">
            
                    
                    ADMIN-1-3: OAIスキーマ 88
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.56" data-path="../admin/ADMIN_1_4.html">
            
                <a href="../admin/ADMIN_1_4.html">
            
                    
                    ADMIN-1-4: プロパティ 90
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.57" data-path="../admin/ADMIN_2_1.html">
            
                <a href="../admin/ADMIN_2_1.html">
            
                    
                    ADMIN-2-1: 一括更新 104
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.58" data-path="../admin/ADMIN_2_2.html">
            
                <a href="../admin/ADMIN_2_2.html">
            
                    
                    ADMIN-2-2: 一括削除 108
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.59" data-path="../admin/ADMIN_2_3.html">
            
                <a href="../admin/ADMIN_2_3.html">
            
                    
                    ADMIN-2-3: 一括エクスポート 110
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.60" data-path="../admin/ADMIN_2_4.html">
            
                <a href="../admin/ADMIN_2_4.html">
            
                    
                    ADMIN-2-4: インポート 113
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.61" data-path="../admin/ADMIN_2_5.html">
            
                <a href="../admin/ADMIN_2_5.html">
            
                    
                    ADMIN-2-5: RO-Crateインポート
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.62" data-path="../admin/ADMIN_3_1.html">
            
                <a href="../admin/ADMIN_3_1.html">
            
                    
                    ADMIN-3-1: ツリー編集 155
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.63" data-path="../admin/ADMIN_3_2.html">
            
                <a href="../admin/ADMIN_3_2.html">
            
                    
                    ADMIN-3-2: 雑誌情報 162
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.64" data-path="../admin/ADMIN_3_3.html">
            
                <a href="../admin/ADMIN_3_3.html">
            
                    
                    ADMIN-3-3: カスタムソート 165
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.65" data-path="../admin/ADMIN_4_1.html">
            
                <a href="../admin/ADMIN_4_1.html">
            
                    
                    ADMIN-4-1: ウィジェット 167
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.66" data-path="../admin/ADMIN_4_2.html">
            
                <a href="../admin/ADMIN_4_2.html">
            
                    
                    ADMIN-4-2: ページレイアウト 180
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.67" data-path="../admin/ADMIN_5_1.html">
            
                <a href="../admin/ADMIN_5_1.html">
            
                    
                    ADMIN-5-1: 編集 185
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.67.1" data-path="../admin/ADMIN_5_1_3.html">
            
                <a href="../admin/ADMIN_5_1_3.html">
            
                    
                    Affiliation ID
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.68" data-path="../admin/ADMIN_5_2.html">
            
                <a href="../admin/ADMIN_5_2.html">
            
                    
                    ADMIN-5-2: 一括出力 198
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.69" data-path="../admin/ADMIN_5_3.html">
            
                <a href="../admin/ADMIN_5_3.html">
            
                    
                    ADMIN-5-3: 一括登録 204
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.70" data-path="../admin/ADMIN_5_4.html">
            
                <a href="../admin/ADMIN_5_4.html">
            
                    
                    ADMIN-5-4: 外部著者ID Prefix
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.71" data-path="../admin/ADMIN_6_1.html">
            
                <a href="../admin/ADMIN_6_1.html">
            
                    
                    ADMIN-6-1: 運用レポート 217
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.72" data-path="../admin/ADMIN_6_2.html">
            
                <a href="../admin/ADMIN_6_2.html">
            
                    
                    ADMIN-6-2: フィードバックメール 233
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.73" data-path="../admin/ADMIN_6_3.html">
            
                <a href="../admin/ADMIN_6_3.html">
            
                    
                    ADMIN-6-3: サイトライセンス 238
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.74" data-path="../admin/ADMIN_7_1.html">
            
                <a href="../admin/ADMIN_7_1.html">
            
                    
                    ADMIN-7-1: フロー 242
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.75" data-path="../admin/ADMIN_7_2.html">
            
                <a href="../admin/ADMIN_7_2.html">
            
                    
                    ADMIN-7-2: ワークフロー 253
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.76" data-path="../admin/ADMIN_7_3.html">
            
                <a href="../admin/ADMIN_7_3.html">
            
                    
                    ADMIN-7-3: ワークスペース設定
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.77" data-path="../admin/ADMIN_8_1.html">
            
                <a href="../admin/ADMIN_8_1.html">
            
                    
                    ADMIN-8-1: コミュニティ 256
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.78" data-path="../admin/ADMIN_8_2.html">
            
                <a href="../admin/ADMIN_8_2.html">
            
                    
                    ADMIN-8-2: 注目のコミュニティ 261
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.79" data-path="../admin/ADMIN_8_3.html">
            
                <a href="../admin/ADMIN_8_3.html">
            
                    
                    ADMIN-8-3: 参加リクエスト 264
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.80" data-path="../admin/ADMIN_9_1.html">
            
                <a href="../admin/ADMIN_9_1.html">
            
                    
                    ADMIN-9-1: ハーベスト 265
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.81" data-path="../admin/ADMIN_9_2.html">
            
                <a href="../admin/ADMIN_9_2.html">
            
                    
                    ADMIN-9-2: Identify 273
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.82" data-path="../admin/ADMIN_9_3.html">
            
                <a href="../admin/ADMIN_9_3.html">
            
                    
                    ADMIN-9-3: Sets 275
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.83" data-path="../admin/ADMIN_10_1.html">
            
                <a href="../admin/ADMIN_10_1.html">
            
                    
                    ADMIN-10-1: Resource List 277
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.84" data-path="../admin/ADMIN_10_2.html">
            
                <a href="../admin/ADMIN_10_2.html">
            
                    
                    ADMIN-10-2: Change List 283
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.85" data-path="../admin/ADMIN_10_3.html">
            
                <a href="../admin/ADMIN_10_3.html">
            
                    
                    ADMIN-10-3: Resync 291
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.86" data-path="../admin/ADMIN_16_1.html">
            
                <a href="../admin/ADMIN_16_1.html">
            
                    
                    ADMIN-16-1: TSV/XML
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.87" data-path="../admin/ADMIN_16_2.html">
            
                <a href="../admin/ADMIN_16_2.html">
            
                    
                    ADMIN-16-2: JSON-LD
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.88" data-path="../admin/ADMIN_11_1.html">
            
                <a href="../admin/ADMIN_11_1.html">
            
                    
                    ADMIN-11-1: 永続識別子 296
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.89" data-path="../admin/ADMIN_11_2.html">
            
                <a href="../admin/ADMIN_11_2.html">
            
                    
                    ADMIN-11-2: レコードメタデータ 299
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.90" data-path="../admin/ADMIN_12_1.html">
            
                <a href="../admin/ADMIN_12_1.html">
            
                    
                    ADMIN-12-1: バケット 302
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.91" data-path="../admin/ADMIN_12_2.html">
            
                <a href="../admin/ADMIN_12_2.html">
            
                    
                    ADMIN-12-2: ファイルインスタンス 306
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.92" data-path="../admin/ADMIN_12_3.html">
            
                <a href="../admin/ADMIN_12_3.html">
            
                    
                    ADMIN-12-3: ロケーション 311
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.93" data-path="../admin/ADMIN_12_4.html">
            
                <a href="../admin/ADMIN_12_4.html">
            
                    
                    ADMIN-12-4: マルチパートオブジェクト 317
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.94" data-path="../admin/ADMIN_12_5.html">
            
                <a href="../admin/ADMIN_12_5.html">
            
                    
                    ADMIN-12-5: オブジェクトバージョン 320
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.95" data-path="../admin/ADMIN_13_1.html">
            
                <a href="../admin/ADMIN_13_1.html">
            
                    
                    ADMIN-13-1: アクセス_ロール 324
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.96" data-path="../admin/ADMIN_13_2.html">
            
                <a href="../admin/ADMIN_13_2.html">
            
                    
                    ADMIN-13-2: アクセス_システムロール 328
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.97" data-path="../admin/ADMIN_13_3.html">
            
                <a href="../admin/ADMIN_13_3.html">
            
                    
                    ADMIN-13-3: アクセス_ユーザー 329
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.98" data-path="../admin/ADMIN_13_4.html">
            
                <a href="../admin/ADMIN_13_4.html">
            
                    
                    ADMIN-13-4: 連結アカウント識別子 330
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.99" data-path="../admin/ADMIN_13_5.html">
            
                <a href="../admin/ADMIN_13_5.html">
            
                    
                    ADMIN-13-5: 連結アカウントトークン 331
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.100" data-path="../admin/ADMIN_13_6.html">
            
                <a href="../admin/ADMIN_13_6.html">
            
                    
                    ADMIN-13-6: 連結アカウント 332
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.101" data-path="../admin/ADMIN_13_7.html">
            
                <a href="../admin/ADMIN_13_7.html">
            
                    
                    ADMIN-13-7: OAuthアプリケーショントークン 333
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.102" data-path="../admin/ADMIN_13_8.html">
            
                <a href="../admin/ADMIN_13_8.html">
            
                    
                    ADMIN-13-8: OAuthアプリケーション 336
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.103" data-path="../admin/ADMIN_13_9.html">
            
                <a href="../admin/ADMIN_13_9.html">
            
                    
                    ADMIN-13-9: ロール 339
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.104" data-path="../admin/ADMIN_13_10.html">
            
                <a href="../admin/ADMIN_13_10.html">
            
                    
                    ADMIN-13-10: セッションアクティビティ 343
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.105" data-path="../admin/ADMIN_13_11.html">
            
                <a href="../admin/ADMIN_13_11.html">
            
                    
                    ADMIN-13-11: ユーザー 345
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.106" data-path="../admin/ADMIN_13_12.html">
            
                <a href="../admin/ADMIN_13_12.html">
            
                    
                    ADMIN-13-12: ユーザープロファイル 350
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.107" data-path="../admin/ADMIN_14_1.html">
            
                <a href="../admin/ADMIN_14_1.html">
            
                    
                    ADMIN-14-1: アイテム表示 354
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.108" data-path="../admin/ADMIN_14_2.html">
            
                <a href="../admin/ADMIN_14_2.html">
            
                    
                    ADMIN-14-2: インデックスリンク表示 356
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.109" data-path="../admin/ADMIN_14_3.html">
            
                <a href="../admin/ADMIN_14_3.html">
            
                    
                    ADMIN-14-3: 言語表示 357
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.110" data-path="../admin/ADMIN_14_4.html">
            
                <a href="../admin/ADMIN_14_4.html">
            
                    
                    ADMIN-14-4: PDFカバーページ表示 361
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.111" data-path="../admin/ADMIN_14_5.html">
            
                <a href="../admin/ADMIN_14_5.html">
            
                    
                    ADMIN-14-5: ランキング表示 364
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.112" data-path="../admin/ADMIN_14_6.html">
            
                <a href="../admin/ADMIN_14_6.html">
            
                    
                    ADMIN-14-6: 統計情報表示 367
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.113" data-path="../admin/ADMIN_14_7.html">
            
                <a href="../admin/ADMIN_14_7.html">
            
                    
                    ADMIN-14-7: 画面背景色 369
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.114" data-path="../admin/ADMIN_14_8.html">
            
                <a href="../admin/ADMIN_14_8.html">
            
                    
                    ADMIN-14-8: 識別子 370
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.115" data-path="../admin/ADMIN_14_9.html">
            
                <a href="../admin/ADMIN_14_9.html">
            
                    
                    ADMIN-14-9: アイテム一括出力 374
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.116" data-path="../admin/ADMIN_14_10.html">
            
                <a href="../admin/ADMIN_14_10.html">
            
                    
                    ADMIN-14-10: ログ解析 375
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.117" data-path="../admin/ADMIN_14_11.html">
            
                <a href="../admin/ADMIN_14_11.html">
            
                    
                    ADMIN-14-11: 検索設定 380
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.118" data-path="../admin/ADMIN_14_12.html">
            
                <a href="../admin/ADMIN_14_12.html">
            
                    
                    ADMIN-14-12: ファセット検索 385
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.119" data-path="../admin/ADMIN_14_13.html">
            
                <a href="../admin/ADMIN_14_13.html">
            
                    
                    ADMIN-14-13: サイト情報 395
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.120" data-path="../admin/ADMIN_14_14.html">
            
                <a href="../admin/ADMIN_14_14.html">
            
                    
                    ADMIN-14-14: サイトライセンス 398
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.121" data-path="../admin/ADMIN_14_15.html">
            
                <a href="../admin/ADMIN_14_15.html">
            
                    
                    ADMIN-14-15: サイトマップ 399
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.122" data-path="../admin/ADMIN_14_16.html">
            
                <a href="../admin/ADMIN_14_16.html">
            
                    
                    ADMIN-14-16: メール送信 404
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.123" data-path="../admin/ADMIN_14_17.html">
            
                <a href="../admin/ADMIN_14_17.html">
            
                    
                    ADMIN-14-17: WebAPIアカウント 406
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.124" data-path="../admin/ADMIN_14_18.html">
            
                <a href="../admin/ADMIN_14_18.html">
            
                    
                    ADMIN-14-18: ファイルプレビュー 408
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.125" data-path="../admin/ADMIN_14_19.html">
            
                <a href="../admin/ADMIN_14_19.html">
            
                    
                    ADMIN-14-19: Shibboleth 410
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.126" data-path="../admin/ADMIN_14_20.html">
            
                <a href="../admin/ADMIN_14_20.html">
            
                    
                    ADMIN-14-20: 制限公開 412
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.127" data-path="../admin/ADMIN_14_21.html">
            
                <a href="../admin/ADMIN_14_21.html">
            
                    
                    ADMIN-14-21: その他 422
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.128" data-path="../admin/ADMIN_14_22.html">
            
                <a href="../admin/ADMIN_14_22.html">
            
                    
                    ADMIN-14-22: メールテンプレート
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.129" data-path="../admin/ADMIN_17_1.html">
            
                <a href="../admin/ADMIN_17_1.html">
            
                    
                    ADMIN-17-1: エクスポート
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.130" data-path="../admin/ADMIN_15_1.html">
            
                <a href="../admin/ADMIN_15_1.html">
            
                    
                    ADMIN-15-1: Elasticsearchインデックス 423
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.131" data-path="API_01_Oauth2.html">
            
                <a href="API_01_Oauth2.html">
            
                    
                    API-1: OAuth2 425
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.132" data-path="API_02_OAIPMH.html">
            
                <a href="API_02_OAIPMH.html">
            
                    
                    API-2: OAI-PMH 429
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.133" data-path="API_03_OpenSearch.html">
            
                <a href="API_03_OpenSearch.html">
            
                    
                    API-3: OpenSearch 436
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.134" data-path="API_04_workflow.html">
            
                <a href="API_04_workflow.html">
            
                    
                    API-4: Workflow API 5
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="2.135" data-path="API_05_index_op.html">
            
                <a href="API_05_index_op.html">
            
                    
                    API-5: Index操作API 7
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.136" data-path="API_06_sword_api.html">
            
                <a href="API_06_sword_api.html">
            
                    
                    API-6: SWORD API 9
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.137" data-path="API_07_item_search.html">
            
                <a href="API_07_item_search.html">
            
                    
                    API-7: アイテム検索用API 20
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.138" data-path="API_08_index_search.html">
            
                <a href="API_08_index_search.html">
            
                    
                    API-8: インデックス検索用API 43
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.139" data-path="API_09_render.html">
            
                <a href="API_09_render.html">
            
                    
                    API-9: Render 81
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.140" data-path="API_10_JSON_Schema.html">
            
                <a href="API_10_JSON_Schema.html">
            
                    
                    API-10: JSON Schema 165
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.141" data-path="API_11_JSON_Form.html">
            
                <a href="API_11_JSON_Form.html">
            
                    
                    API-11: JSON Form 187
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.142" data-path="../other/SCHEMA_1_1.html">
            
                <a href="../other/SCHEMA_1_1.html">
            
                    
                    SCHEMA-1-1: Render 328
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.143" data-path="../other/SCHEMA_1_2.html">
            
                <a href="../other/SCHEMA_1_2.html">
            
                    
                    SCHEMA-1-2: Schema 329
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.144" data-path="../other/SCHEMA_1_3.html">
            
                <a href="../other/SCHEMA_1_3.html">
            
                    
                    SCHEMA-1-3: Form 329
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.145" data-path="../other/MODULE_01.html">
            
                <a href="../other/MODULE_01.html">
            
                    
                    モジュール、ライブラリ 330
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.146" data-path="../other/CONFIG_01.html">
            
                <a href="../other/CONFIG_01.html">
            
                    
                    コンフィグ 331
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.147" data-path="../other/DB_01.html">
            
                <a href="../other/DB_01.html">
            
                    
                    DB 336
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.148" data-path="../other/OTHER_elasticsearch.html">
            
                <a href="../other/OTHER_elasticsearch.html">
            
                    
                    elasticsearch 337
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.149" data-path="../other/CELERY_01.html">
            
                <a href="../other/CELERY_01.html">
            
                    
                    celery タスク 342
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.150" data-path="../other/LOG.html">
            
                <a href="../other/LOG.html">
            
                    
                    ログ 345
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.151" data-path="../other/USAGE_LOG.html">
            
                <a href="../other/USAGE_LOG.html">
            
                    
                    利用統計ログ
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.152" data-path="../other/USER_ACTIVITY_LOG.html">
            
                <a href="../other/USER_ACTIVITY_LOG.html">
            
                    
                    基本監査ログ
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.153" data-path="../other/SESSION_01.html">
            
                <a href="../other/SESSION_01.html">
            
                    
                    セッション管理 357
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.154" data-path="API_ENDPOINT_01.html">
            
                <a href="API_ENDPOINT_01.html">
            
                    
                    API Endpoint 358
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.155" data-path="../other/SHIBBOLETH_01.html">
            
                <a href="../other/SHIBBOLETH_01.html">
            
                    
                    Shibboleth対応 359
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.156" data-path="../other/WORKFLOW_01.html">
            
                <a href="../other/WORKFLOW_01.html">
            
                    
                    GakuNinRDM連携 362
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.157" data-path="../other/ID_01.html">
            
                <a href="../other/ID_01.html">
            
                    
                    ID体系 371
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.158" data-path="../other/KAISEKI_01.html">
            
                <a href="../other/KAISEKI_01.html">
            
                    
                    解析基盤連携 372
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.159" data-path="../other/INBOX_01.html">
            
                <a href="../other/INBOX_01.html">
            
                    
                    プッシュ通知機能
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.160" data-path="../restricted_access/RESTRICTED_ACCESS_01.html">
            
                <a href="../restricted_access/RESTRICTED_ACCESS_01.html">
            
                    
                    RESTRICTED_ACCESS-13-1: アイテムタイプ管理（制限公開） 373
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.161" data-path="../restricted_access/RESTRICTED_ACCESS_02.html">
            
                <a href="../restricted_access/RESTRICTED_ACCESS_02.html">
            
                    
                    RESTRICTED_ACCESS-13-2: アイテム詳細(制限公開) 376
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.162" data-path="../restricted_access/RESTRICTED_ACCESS_03.html">
            
                <a href="../restricted_access/RESTRICTED_ACCESS_03.html">
            
                    
                    RESTRICTED_ACCESS-13-3: ワークフロー管理（制限公開） 378
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.163" data-path="../restricted_access/RESTRICTED_ACCESS_04.html">
            
                <a href="../restricted_access/RESTRICTED_ACCESS_04.html">
            
                    
                    RESTRICTED_ACCESS-13-4: メールテンプレート 381
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.164" data-path="../tools/TOOL_01.html">
            
                <a href="../tools/TOOL_01.html">
            
                    
                    TOOL-1: システムプロパティマッピング 390
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://github.com/honkit/honkit" target="blank" class="gitbook-link">
            HonKitで公開 
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >API-5: Index操作API 7</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <html><head></head><body><h1 id="index操作api"><a name="index操作api" class="plugin-anchor" href="#index操作api"><i class="fa fa-link" aria-hidden="true"></i></a>Index操作API</h1>
<h2 id="インデックス作成api"><a name="インデックス作成api" class="plugin-anchor" href="#インデックス作成api"><i class="fa fa-link" aria-hidden="true"></i></a>インデックス作成API</h2>
<h3 id="目的・用途"><a name="目的・用途" class="plugin-anchor" href="#目的・用途"><i class="fa fa-link" aria-hidden="true"></i></a>目的・用途</h3>
<p>新規インデックスを作成する際に使用するAPIである</p>
<h3 id="利用方法"><a name="利用方法" class="plugin-anchor" href="#利用方法"><i class="fa fa-link" aria-hidden="true"></i></a>利用方法</h3>
<p>Scopeに「index:create」をもつアクセストークンを使用してAPIを呼び出す</p>
<table>
<thead>
<tr>
<th><strong>Method</strong></th>
<th><strong>HTTP request</strong></th>
<th><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>create_index</td>
<td>POST /api/indextree/create</td>
</tr>
</tbody>
</table>
<p>パラメータは以下の内容のjsonとする</p>
<table>
<thead>
<tr>
<th><strong>Parameter name</strong></th>
<th><strong>Value</strong></th>
<th><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>Path parameters</td>
<td></td>
<td></td>
</tr>
<tr>
<td>parent_id</td>
<td>数値</td>
<td>親インデックスのID</td>
</tr>
<tr>
<td>index_info</td>
<td>json</td>
<td>必須。以下の項目のうち少なくとも1つが必要</td>
</tr>
<tr>
<td>index_info.index_name</td>
<td>文字列</td>
<td>日本語のインデックス名</td>
</tr>
<tr>
<td>index_info.index_name_english</td>
<td>文字列</td>
<td>英語のインデックス名</td>
</tr>
<tr>
<td>index_info.comment</td>
<td>文字列</td>
<td>コメント</td>
</tr>
<tr>
<td>index_info.public_state</td>
<td>真偽値</td>
<td>公開設定</td>
</tr>
<tr>
<td>index_info.harvest_public_state</td>
<td>真偽値</td>
<td>ハーベスト公開設定</td>
</tr>
</tbody>
</table>
<p>curlによるリクエスト例</p>
<pre class="language-"><code class="lang-bash">$ <span class="token function">curl</span> https://ホスト/api/indextree/create <span class="token parameter variable">-H</span> <span class="token string">"Authorization:Bearer アクセストークン"</span> <span class="token parameter variable">-H</span> <span class="token string">"Content-Type: application/json"</span> <span class="token punctuation">\</span>
<span class="token parameter variable">-d</span> <span class="token string">'{"parent_id":"0","index_info":{"index_name":"APIテスト","index_name_english":"API test","comment":"コメント","public_state":false,"public_state":false}}'</span>
</code></pre>
<h3 id="利用可能なロール"><a name="利用可能なロール" class="plugin-anchor" href="#利用可能なロール"><i class="fa fa-link" aria-hidden="true"></i></a>利用可能なロール</h3>
<table>
<thead>
<tr class="header">
<th>ロール</th>
<th>システム<br></br>
管理者</th>
<th>リポジトリ<br></br>
管理者</th>
<th>コミュニティ<br></br>
管理者</th>
<th>登録ユーザー</th>
<th>一般ユーザー</th>
<th>ゲスト<br></br>
(未ログイン)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>利用可否</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td></td>
</tr>
</tbody>
</table>

<h3 id="機能内容"><a name="機能内容" class="plugin-anchor" href="#機能内容"><i class="fa fa-link" aria-hidden="true"></i></a>機能内容</h3>
<!-- end list -->
<ul>
<li><p>以下を指定してインデックスを新規作成する</p>
<ul>
<li>親インデックス</li>
</ul>
</li>
<li><p>指定されなかった場合はRoot Index直下に作成される</p>
<ul>
<li><p>日本語のインデックス名</p>
</li>
<li><p>英語のインデックス名</p>
</li>
</ul>
</li>
<li><p>各インデックス名は、指定されなかった場合は「New Index」が設定される</p>
<ul>
<li><p>コメント</p>
</li>
<li><p>公開設定</p>
</li>
</ul>
</li>
<li><p>指定されなかった場合は「False」が設定される</p>
<ul>
<li>ハーベスト公開設定</li>
</ul>
</li>
<li><p>指定されなかった場合は「True」が設定される</p>
</li>
</ul>
<!-- end list -->
<h3 id="関連モジュール"><a name="関連モジュール" class="plugin-anchor" href="#関連モジュール"><i class="fa fa-link" aria-hidden="true"></i></a>関連モジュール</h3>
<!-- end list -->
<ul>
<li>weko_index_tree</li>
</ul>
<!-- end list -->
<h3 id="処理概要"><a name="処理概要" class="plugin-anchor" href="#処理概要"><i class="fa fa-link" aria-hidden="true"></i></a>処理概要</h3>
<!-- end list -->
<ul>
<li><p>Scope:</p>
<ul>
<li>weko- index-tree /weko_ index_tree /scopes.py</li>
</ul>
</li>
<li><p>API:</p>
<ul>
<li>modules/weko-index-tree/weko_index_tree/views.py</li>
</ul>
</li>
<li><p>create_index関数でindexテーブルに新規インデックスを作成する</p>
<ul>
<li>以下の情報を用いてインデックスを新規作成する</li>
</ul>
</li>
<li><p>id：作成時のUNIX時間を1000倍したものを用いる</p>
</li>
<li><p>parent_id：パラメータで指定されなかった場合には0を設定する</p>
</li>
<li><p>index_name：「New Index」固定</p>
<ul>
<li><p>作成したインデックスを、index_infoの内容を用いてupdateする</p>
</li>
<li><p>作成が成功すると、以下の内容のレスポンスが返却される</p>
</li>
</ul>
</li>
<li><p>Indexes.updateメソッドの返却値をjson形式にエンコードしたものをレスポンスボディに入れようとする</p>
</li>
<li><p>しかし、updateメソッドの返却値はNoneなので、実際に入るのはエラーメッセージ「'NoneType' object is not iterable」である</p>
<ul>
<li><p>パラメータとして空のjsonを渡した場合は、400エラーとなりエラーメッセージ「No data to create.」が返却される</p>
</li>
<li><p>index_infoが空だった場合は、400エラーとなりエラーメッセージ「index_info can not be null.」が返却される</p>
</li>
</ul>
</li>
</ul>
<!-- end list -->
<h2 id="インデックス管理api"><a name="インデックス管理api" class="plugin-anchor" href="#インデックス管理api"><i class="fa fa-link" aria-hidden="true"></i></a>インデックス管理API</h2>
<h3 id="目的・用途"><a name="目的・用途" class="plugin-anchor" href="#目的・用途"><i class="fa fa-link" aria-hidden="true"></i></a>目的・用途</h3>
<p>管理者の権限を以て、インデックスを取得・作成・更新・削除する機能を提供するAPIである。</p>
<h2 id="利用方法"><a name="利用方法" class="plugin-anchor" href="#利用方法"><i class="fa fa-link" aria-hidden="true"></i></a>利用方法</h2>
<p>APIの認証にはOAuth2を利用する。<br></br>アクセストークンの発行は<a href="API_01_Oauth2.html#oauth2">API-1:OAuth2</a>を参照。</p>
<h3 id="api一覧"><a name="api一覧" class="plugin-anchor" href="#api一覧"><i class="fa fa-link" aria-hidden="true"></i></a>API一覧</h3>
<table>
<thead>
<tr>
<th style="text-align:center">項番</th>
<th>HTTP Method</th>
<th>エンドポイント</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">1</td>
<td>GET</td>
<td>/api/\<version>/tree</version></td>
<td>全インデックスの情報を取得する</td>
</tr>
<tr>
<td style="text-align:center">2</td>
<td>GET</td>
<td>/api/\<version>/tree/\<index_id></index_id></version></td>
<td>指定したインデックスの情報を取得する</td>
</tr>
<tr>
<td style="text-align:center">3</td>
<td>POST</td>
<td>/api/\<version>/tree/index</version></td>
<td>インデックスを新規作成する</td>
</tr>
<tr>
<td style="text-align:center">4</td>
<td>PUT</td>
<td>/api/\<version>/tree/index/\<index_id></index_id></version></td>
<td>指定したインデックスを更新する</td>
</tr>
<tr>
<td style="text-align:center">5</td>
<td>DELETE</td>
<td>/api/\<version>/tree/index/\<index_id></index_id></version></td>
<td>指定したインデックスを削除する</td>
</tr>
</tbody>
</table>
<h3 id="scope"><a name="scope" class="plugin-anchor" href="#scope"><i class="fa fa-link" aria-hidden="true"></i></a>Scope</h3>
<p>インデックス情報を取得するためには、アクセストークンに以下のスコープを要求する。</p>
<ul>
<li>index:read</li>
</ul>
<p>インデックスを新規作成するためには、アクセストークンに以下のスコープを要求する。</p>
<ul>
<li>index:create</li>
</ul>
<p>インデックスを更新するためには、アクセストークンに以下のスコープを要求する。</p>
<ul>
<li>index:update</li>
</ul>
<p>インデックスを削除するためには、アクセストークンに以下のスコープを要求する。</p>
<ul>
<li>index:delete</li>
</ul>
<h3 id="利用可能なロール"><a name="利用可能なロール" class="plugin-anchor" href="#利用可能なロール"><i class="fa fa-link" aria-hidden="true"></i></a>利用可能なロール</h3>
<table>
<thead>
<tr>
<th>ロール</th>
<th>システム管理者</th>
<th>リポジトリ管理者</th>
<th>コミュニティ管理者</th>
<th>登録ユーザー</th>
<th>一般ユーザー</th>
<th>ゲスト(未ログイン)</th>
</tr>
</thead>
<tbody>
<tr>
<td>利用可否</td>
<td>〇</td>
<td>〇</td>
<td>〇</td>
<td>△</td>
<td>△</td>
<td>×</td>
</tr>
</tbody>
</table>
<p>※ 〇：利用可能、△：一部機能のみ利用可能、×：利用不可</p>
<ul>
<li>インデックスを操作可能なAPIは、システム管理者、リポジトリ管理者、コミュニティ管理者のロールを持つユーザーのみが利用可能である。</li>
<li>コミュニティ管理者は、所属するコミュニティのインデックスのみを操作可能である。</li>
</ul>
<h3 id="curlでのリクエスト実行例"><a name="curlでのリクエスト実行例" class="plugin-anchor" href="#curlでのリクエスト実行例"><i class="fa fa-link" aria-hidden="true"></i></a>CURLでのリクエスト実行例</h3>
<h4 id="get-apiv1tree"><a name="get-apiv1tree" class="plugin-anchor" href="#get-apiv1tree"><i class="fa fa-link" aria-hidden="true"></i></a>GET /api/v1/tree/<index_id></index_id></h4>
<h4 id="リクエスト"><a name="リクエスト" class="plugin-anchor" href="#リクエスト"><i class="fa fa-link" aria-hidden="true"></i></a>リクエスト</h4>
<pre class="language-"><code class="lang-shell">$ <span class="token function">curl</span> <span class="token parameter variable">-k</span> <span class="token string">"https://192.168.56.200/api/v1/tree/1623632832836"</span> <span class="token parameter variable">-H</span> <span class="token string">"Authorization:Bearer MjiT81jdxgVdLRi9ENJgAkCM2AuFuDe9Ekh4ZqZuTDtCm4Mu0B7L4AYozTgY"</span> <span class="token operator">|</span> jq <span class="token builtin class-name">.</span>
</code></pre>
<ul>
<li><p>-H オプション</p>
<ul>
<li>リクエストにカスタムヘッダーを追加する</li>
<li>Authorization は "Bearer" + " (半角スペース)" + "アクセストークン"の形式で指定する</li>
</ul>
</li>
</ul>
<h4 id="レスポンス"><a name="レスポンス" class="plugin-anchor" href="#レスポンス"><i class="fa fa-link" aria-hidden="true"></i></a>レスポンス</h4>
<pre class="language-"><code class="lang-json"><span class="token punctuation">{</span>
  <span class="token property">"index"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"pid"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">"cid"</span><span class="token operator">:</span> <span class="token number">1623632832836</span><span class="token punctuation">,</span>
    <span class="token property">"position"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"サンプルインデックス"</span><span class="token punctuation">,</span>
    <span class="token property">"link_name"</span><span class="token operator">:</span> <span class="token string">"New Index"</span><span class="token punctuation">,</span>
    <span class="token property">"index_link_enabled"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token property">"public_state"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">"public_date"</span><span class="token operator">:</span> <span class="token null keyword">null</span><span class="token punctuation">,</span>
    <span class="token property">"browsing_role"</span><span class="token operator">:</span> <span class="token string">"3,-99,-98"</span><span class="token punctuation">,</span>
    <span class="token property">"contribute_role"</span><span class="token operator">:</span> <span class="token string">"4,3,-98"</span><span class="token punctuation">,</span>
    <span class="token property">"browsing_group"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
    <span class="token property">"contribute_group"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
    <span class="token property">"more_check"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token property">"display_no"</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
    <span class="token property">"coverpage_state"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token property">"recursive_coverpage_check"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token property">"is_deleted"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token property">"id"</span><span class="token operator">:</span> <span class="token string">"1623632832836"</span><span class="token punctuation">,</span>
    <span class="token property">"value"</span><span class="token operator">:</span> <span class="token string">"サンプルインデックス"</span><span class="token punctuation">,</span>
    <span class="token property">"emitLoadNextLevel"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token property">"settings"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">"isCollapsedOnInit"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token property">"checked"</span><span class="token operator">:</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">"children"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">"index_name"</span><span class="token operator">:</span> <span class="token string">"サンプルインデックス"</span><span class="token punctuation">,</span>
    <span class="token property">"index_name_english"</span><span class="token operator">:</span> <span class="token string">"Sample Index"</span><span class="token punctuation">,</span>
    <span class="token property">"index_link_name_english"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
    <span class="token property">"value_english"</span><span class="token operator">:</span> <span class="token string">"Sample Index"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h2 id="api仕様"><a name="api仕様" class="plugin-anchor" href="#api仕様"><i class="fa fa-link" aria-hidden="true"></i></a>API仕様</h2>
<h3 id="インデックスツリー取得機能"><a name="インデックスツリー取得機能" class="plugin-anchor" href="#インデックスツリー取得機能"><i class="fa fa-link" aria-hidden="true"></i></a>インデックスツリー取得機能</h3>
<p>全インデックスあるいは指定したインデックスの情報を取得する。</p>
<h4 id="エンドポイント"><a name="エンドポイント" class="plugin-anchor" href="#エンドポイント"><i class="fa fa-link" aria-hidden="true"></i></a>エンドポイント</h4>
<p>GET /api/<version>/tree：全インデックス<br></br>GET /api/<version>/tree/<index_id>：指定したインデックス</index_id></version></version></p>
<h4 id="リクエストヘッダー"><a name="リクエストヘッダー" class="plugin-anchor" href="#リクエストヘッダー"><i class="fa fa-link" aria-hidden="true"></i></a>リクエストヘッダー</h4>
<table>
<thead>
<tr>
<th>ヘッダー</th>
<th>必須</th>
<th>説明</th>
<th>例</th>
</tr>
</thead>
<tbody>
<tr>
<td>Authorization</td>
<td>○</td>
<td>操作するWEKOユーザーのOAuth認証情報。アクセストークンを用いる。<br></br>"Bearer" + " (半角スペース)" + "トークン"の形式。</td>
<td>"Bearer fVzaeTNY5PCHsNS3rZOARrYR7kPBl4"</td>
</tr>
</tbody>
</table>
<h4 id="パスパラメータ"><a name="パスパラメータ" class="plugin-anchor" href="#パスパラメータ"><i class="fa fa-link" aria-hidden="true"></i></a>パスパラメータ</h4>
<table>
<thead>
<tr>
<th>キー</th>
<th>必須</th>
<th>説明</th>
<th>例</th>
</tr>
</thead>
<tbody>
<tr>
<td>version</td>
<td></td>
<td>APIのバージョン</td>
<td>v1</td>
</tr>
<tr>
<td>index_id</td>
<td></td>
<td>インデックスID</td>
<td>1623632832836</td>
</tr>
</tbody>
</table>
<h4 id="レスポンスコード"><a name="レスポンスコード" class="plugin-anchor" href="#レスポンスコード"><i class="fa fa-link" aria-hidden="true"></i></a>レスポンスコード</h4>
<table>
<thead>
<tr>
<th>コード</th>
<th>説明</th>
</tr>
</thead>
<tbody>
<tr>
<td>200</td>
<td>正常終了</td>
</tr>
<tr>
<td>400</td>
<td>リクエストに不備がある</td>
</tr>
<tr>
<td>401</td>
<td>OAuth2認証失敗</td>
</tr>
<tr>
<td>403</td>
<td>ユーザーのロールあるいはトークンのスコープで指定されたインデックスへのアクセスが許可されていない</td>
</tr>
<tr>
<td>404</td>
<td>指定されたインデックスが存在しない</td>
</tr>
<tr>
<td>500</td>
<td>サーバ内部のエラー</td>
</tr>
</tbody>
</table>
<h4 id="レスポンスボディ"><a name="レスポンスボディ" class="plugin-anchor" href="#レスポンスボディ"><i class="fa fa-link" aria-hidden="true"></i></a>レスポンスボディ</h4>
<p><strong>正常終了</strong></p>
<table>
<thead>
<tr>
<th>項目名</th>
<th>型</th>
<th>説明</th>
</tr>
</thead>
<tbody>
<tr>
<td>index</td>
<td>dict</td>
<td>インデックスの情報を含む辞書</td>
</tr>
<tr>
<td>.pid</td>
<td>integer</td>
<td>親インデックスのID</td>
</tr>
<tr>
<td>.cid</td>
<td>integer</td>
<td>インデックスID</td>
</tr>
<tr>
<td>.position</td>
<td>integer</td>
<td>親インデックスに紐づく子インデックスにつく連番</td>
</tr>
<tr>
<td>.name</td>
<td>string</td>
<td>インデックス名</td>
</tr>
<tr>
<td>.link_name</td>
<td>string</td>
<td>インデックスリンク名</td>
</tr>
<tr>
<td>.index_link_enabled</td>
<td>boolean</td>
<td>インデックスリンクに表示するかどうか</td>
</tr>
<tr>
<td>.public_state</td>
<td>boolean</td>
<td>公開設定</td>
</tr>
<tr>
<td>.public_date</td>
<td>string</td>
<td>公開日</td>
</tr>
<tr>
<td>.browsing_role</td>
<td>string</td>
<td>閲覧権限のあるロール</td>
</tr>
<tr>
<td>.browsing_group</td>
<td>string</td>
<td>閲覧権限のあるグループ</td>
</tr>
<tr>
<td>.contribute_role</td>
<td>string</td>
<td>投稿権限のあるロール</td>
</tr>
<tr>
<td>.contribute_group</td>
<td>string</td>
<td>投稿権限のあるグループ</td>
</tr>
<tr>
<td>.more_check</td>
<td>boolean</td>
<td>子インデックスの初回表示個数を変更するかどうか</td>
</tr>
<tr>
<td>.display_no</td>
<td>integer</td>
<td>子インデックスの初回表示個数</td>
</tr>
<tr>
<td>.coverpage_state</td>
<td>boolean</td>
<td>PDF Cover Page (JA)</td>
</tr>
<tr>
<td>.recursive_coverpage_check</td>
<td>boolean</td>
<td>子インデックスにPDFカバーページの設定を再帰的に設定するフラグ</td>
</tr>
<tr>
<td>.is_deleted</td>
<td>boolean</td>
<td>削除フラグ</td>
</tr>
<tr>
<td>.id</td>
<td>string</td>
<td>インデックスID</td>
</tr>
<tr>
<td>.value</td>
<td>string</td>
<td>日本語のインデックス名</td>
</tr>
<tr>
<td>.emitLoadNextLevel</td>
<td>boolean</td>
<td></td>
</tr>
<tr>
<td>.settings</td>
<td>dict</td>
<td></td>
</tr>
<tr>
<td>.setting.checked</td>
<td>boolean</td>
<td></td>
</tr>
<tr>
<td>.setting.isCollapsedOnInt</td>
<td>boolean</td>
<td></td>
</tr>
<tr>
<td>.children</td>
<td>list</td>
<td>子のインデックスオブジェクト</td>
</tr>
<tr>
<td>.index_name</td>
<td>string</td>
<td>日本語のインデックス名</td>
</tr>
<tr>
<td>.index_name_english</td>
<td>string</td>
<td>英語のインデックス名</td>
</tr>
<tr>
<td>.index_link_name_english</td>
<td>string</td>
<td>英語のインデックスリンク表示名</td>
</tr>
<tr>
<td>.value_english</td>
<td>string</td>
<td>英語のインデックス名</td>
</tr>
</tbody>
</table>
<p><strong>異常終了</strong></p>
<table>
<thead>
<tr>
<th>項目名</th>
<th>説明</th>
</tr>
</thead>
<tbody>
<tr>
<td>code</td>
<td>HTTPステータスコード</td>
</tr>
<tr>
<td>description</td>
<td>エラーメッセージ</td>
</tr>
</tbody>
</table>
<h3 id="インデックス作成機能"><a name="インデックス作成機能" class="plugin-anchor" href="#インデックス作成機能"><i class="fa fa-link" aria-hidden="true"></i></a>インデックス作成機能</h3>
<p>インデックスを新規作成する。</p>
<h4 id="エンドポイント"><a name="エンドポイント" class="plugin-anchor" href="#エンドポイント"><i class="fa fa-link" aria-hidden="true"></i></a>エンドポイント</h4>
<p>POST /api/<version>/tree/index</version></p>
<h4 id="リクエストヘッダー"><a name="リクエストヘッダー" class="plugin-anchor" href="#リクエストヘッダー"><i class="fa fa-link" aria-hidden="true"></i></a>リクエストヘッダー</h4>
<table>
<thead>
<tr>
<th>ヘッダー</th>
<th>必須</th>
<th>説明</th>
<th>例</th>
</tr>
</thead>
<tbody>
<tr>
<td>Authorization</td>
<td>○</td>
<td>操作するWEKOユーザーのOAuth認証情報。アクセストークンを用いる。<br></br>"Bearer" + " (半角スペース)" + "トークン"の形式。</td>
<td>"Bearer fVzaeTNY5PCHsNS3rZOARrYR7kPBl4"</td>
</tr>
</tbody>
</table>
<h4 id="パスパラメータ"><a name="パスパラメータ" class="plugin-anchor" href="#パスパラメータ"><i class="fa fa-link" aria-hidden="true"></i></a>パスパラメータ</h4>
<table>
<thead>
<tr>
<th>キー</th>
<th>必須</th>
<th>説明</th>
<th>例</th>
</tr>
</thead>
<tbody>
<tr>
<td>version</td>
<td>〇</td>
<td>APIのバージョン</td>
<td>v1</td>
</tr>
</tbody>
</table>
<h4 id="リクエストボディ"><a name="リクエストボディ" class="plugin-anchor" href="#リクエストボディ"><i class="fa fa-link" aria-hidden="true"></i></a>リクエストボディ</h4>
<table>
<thead>
<tr>
<th>キー</th>
<th>必須</th>
<th>型</th>
<th>説明</th>
</tr>
</thead>
<tbody>
<tr>
<td>index</td>
<td>〇</td>
<td>object</td>
<td>インデックスの情報を含むオブジェクト。以下の項目を含む。</td>
</tr>
<tr>
<td>.parent</td>
<td>〇</td>
<td>integer</td>
<td>親インデックスのID。0の場合はルートインデックス直下に作成される。例: 0, 1623632832836</td>
</tr>
<tr>
<td>.index_name</td>
<td></td>
<td>string</td>
<td>日本語のインデックス名。例: "APIテスト"。デフォルトは "New Index"</td>
</tr>
<tr>
<td>.index_name_english</td>
<td></td>
<td>string</td>
<td>英語のインデックス名。例: "API test"。デフォルトは "New Index"</td>
</tr>
<tr>
<td>.index_link_name</td>
<td></td>
<td>string</td>
<td>インデックスリンク名。デフォルトは""</td>
</tr>
<tr>
<td>.index_link_name_english</td>
<td></td>
<td>string</td>
<td>英語のインデックスリンク名。デフォルトは "New Index"</td>
</tr>
<tr>
<td>.index_link_enabled</td>
<td></td>
<td>boolean</td>
<td>インデックスリンクを有効にするかどうか。デフォルトは false</td>
</tr>
<tr>
<td>.comment</td>
<td></td>
<td>string</td>
<td>インデックスのコメント。デフォルトは ""</td>
</tr>
<tr>
<td>.more_check</td>
<td></td>
<td>boolean</td>
<td>子インデックスの初回表示個数を制限し、more表示するか。デフォルトは false</td>
</tr>
<tr>
<td>.display_no</td>
<td></td>
<td>integer</td>
<td>more表示時の子インデックスの初回表示個数。デフォルトは 5</td>
</tr>
<tr>
<td>.harvest_public_state</td>
<td></td>
<td>boolean</td>
<td>ハーベスト公開状態。デフォルトは tru</td>
</tr>
<tr>
<td>.display_format</td>
<td></td>
<td>string</td>
<td>インデックスの表示形式。一覧表示："1", 目次表示："2"。 デフォルトは "1"</td>
</tr>
<tr>
<td>.public_state</td>
<td></td>
<td>boolean</td>
<td>インデックスの公開状態。デフォルトは false</td>
</tr>
<tr>
<td>.public_date</td>
<td></td>
<td>string</td>
<td>公開日。YYYYMMDD形式で指定。デフォルトは null</td>
</tr>
<tr>
<td>.rss_status</td>
<td></td>
<td>boolean</td>
<td>RSSアイコンを表示するかどうか。デフォルトはfalse</td>
</tr>
<tr>
<td>.coverpage_state</td>
<td></td>
<td>boolean</td>
<td>PDFカバーページを有効にするかどうか。デフォルトは false</td>
</tr>
<tr>
<td>.browsing_role</td>
<td></td>
<td>string</td>
<td>閲覧権限のあるロール。複数指定する場合はカンマ区切り。例: "3,-99,-98"</td>
</tr>
<tr>
<td>.contribute_role</td>
<td></td>
<td>string</td>
<td>投稿権限のあるロール。複数指定する場合はカンマ区切り。例: "4,3,-98"</td>
</tr>
<tr>
<td>.browsing_group</td>
<td></td>
<td>string</td>
<td>閲覧権限のあるグループ。複数指定する場合はカンマ区切り。例: ""</td>
</tr>
<tr>
<td>.contribute_group</td>
<td></td>
<td>string</td>
<td>投稿権限のあるグループ。複数指定する場合はカンマ区切り。例: ""</td>
</tr>
<tr>
<td>.online_issn</td>
<td></td>
<td>string</td>
<td>オンラインISSN。例: "1234-5678"</td>
</tr>
</tbody>
</table>
<h4 id="レスポンスコード"><a name="レスポンスコード" class="plugin-anchor" href="#レスポンスコード"><i class="fa fa-link" aria-hidden="true"></i></a>レスポンスコード</h4>
<table>
<thead>
<tr>
<th>コード</th>
<th>説明</th>
</tr>
</thead>
<tbody>
<tr>
<td>201</td>
<td>正常終了。新規インデックスが作成された</td>
</tr>
<tr>
<td>400</td>
<td>リクエストに不備がある</td>
</tr>
<tr>
<td>401</td>
<td>OAuth2認証失敗</td>
</tr>
<tr>
<td>403</td>
<td>ユーザーのロールあるいはトークンのスコープで指定されたインデックスへのアクセスが許可されていない</td>
</tr>
<tr>
<td>404</td>
<td>指定された親インデックスが存在しない</td>
</tr>
<tr>
<td>500</td>
<td>サーバ内部のエラー</td>
</tr>
</tbody>
</table>
<h4 id="レスポンスボディ"><a name="レスポンスボディ" class="plugin-anchor" href="#レスポンスボディ"><i class="fa fa-link" aria-hidden="true"></i></a>レスポンスボディ</h4>
<p><strong>正常終了</strong></p>
<p>リクエストボディのindexオブジェクトと同様の形式で、作成されたインデックスの情報を含む。</p>
<p><strong>異常終了</strong></p>
<table>
<thead>
<tr>
<th>項目名</th>
<th>説明</th>
</tr>
</thead>
<tbody>
<tr>
<td>code</td>
<td>HTTPステータスコード</td>
</tr>
<tr>
<td>description</td>
<td>エラーメッセージ</td>
</tr>
</tbody>
</table>
<h3 id="インデックス更新機能"><a name="インデックス更新機能" class="plugin-anchor" href="#インデックス更新機能"><i class="fa fa-link" aria-hidden="true"></i></a>インデックス更新機能</h3>
<p>指定したインデックスの情報を更新する。</p>
<h4 id="エンドポイント"><a name="エンドポイント" class="plugin-anchor" href="#エンドポイント"><i class="fa fa-link" aria-hidden="true"></i></a>エンドポイント</h4>
<p>PUT /api/<version>/tree/index/<index_id></index_id></version></p>
<h4 id="リクエストヘッダー"><a name="リクエストヘッダー" class="plugin-anchor" href="#リクエストヘッダー"><i class="fa fa-link" aria-hidden="true"></i></a>リクエストヘッダー</h4>
<table>
<thead>
<tr>
<th>ヘッダー</th>
<th>必須</th>
<th>説明</th>
<th>例</th>
</tr>
</thead>
<tbody>
<tr>
<td>Authorization</td>
<td>○</td>
<td>操作するWEKOユーザーのOAuth認証情報。アクセストークンを用いる。<br></br>"Bearer" + " (半角スペース)" + "トークン"の形式。</td>
<td>"Bearer fVzaeTNY5PCHsNS3rZOARrYR7kPBl4"</td>
</tr>
</tbody>
</table>
<h4 id="パスパラメータ"><a name="パスパラメータ" class="plugin-anchor" href="#パスパラメータ"><i class="fa fa-link" aria-hidden="true"></i></a>パスパラメータ</h4>
<table>
<thead>
<tr>
<th>キー</th>
<th>必須</th>
<th>説明</th>
<th>例</th>
</tr>
</thead>
<tbody>
<tr>
<td>version</td>
<td>〇</td>
<td>APIのバージョン</td>
<td>v1</td>
</tr>
<tr>
<td>index_id</td>
<td>〇</td>
<td>更新するインデックスID</td>
<td>1623632832836</td>
</tr>
</tbody>
</table>
<h4 id="リクエストボディ"><a name="リクエストボディ" class="plugin-anchor" href="#リクエストボディ"><i class="fa fa-link" aria-hidden="true"></i></a>リクエストボディ</h4>
<table>
<thead>
<tr>
<th>キー</th>
<th>必須</th>
<th>型</th>
<th>説明</th>
</tr>
</thead>
<tbody>
<tr>
<td>index</td>
<td>〇</td>
<td>object</td>
<td>更新するインデックスの情報を含むオブジェクト。新規作成時に加え、以下の項目を含む。</td>
</tr>
<tr>
<td>.position</td>
<td></td>
<td>integer</td>
<td>親インデックス下の表示順。指定しない場合は変更されない。</td>
</tr>
</tbody>
</table>
<h4 id="レスポンスコード"><a name="レスポンスコード" class="plugin-anchor" href="#レスポンスコード"><i class="fa fa-link" aria-hidden="true"></i></a>レスポンスコード</h4>
<table>
<thead>
<tr>
<th>コード</th>
<th>説明</th>
</tr>
</thead>
<tbody>
<tr>
<td>200</td>
<td>正常終了。インデックスが更新された</td>
</tr>
<tr>
<td>400</td>
<td>リクエストに不備がある</td>
</tr>
<tr>
<td>401</td>
<td>OAuth2認証失敗</td>
</tr>
<tr>
<td>403</td>
<td>ユーザーのロールあるいはトークンのスコープで指定されたインデックスへのアクセスが許可されていない</td>
</tr>
<tr>
<td>404</td>
<td>指定されたインデックスが存在しない</td>
</tr>
<tr>
<td>500</td>
<td>サーバ内部のエラー</td>
</tr>
</tbody>
</table>
<h5 id="レスポンスボディ"><a name="レスポンスボディ" class="plugin-anchor" href="#レスポンスボディ"><i class="fa fa-link" aria-hidden="true"></i></a>レスポンスボディ</h5>
<p><strong>正常終了</strong>
リクエストボディのindexオブジェクトと同様の形式で、更新されたインデックスの情報を含む。</p>
<p><strong>異常終了</strong>
| 項目名      | 説明                     |
| ----------- | ------------------------ |
| code        | HTTPステータスコード     |
| description | エラーメッセージ         |</p>
<h3 id="インデックス削除機能"><a name="インデックス削除機能" class="plugin-anchor" href="#インデックス削除機能"><i class="fa fa-link" aria-hidden="true"></i></a>インデックス削除機能</h3>
<p>指定したインデックスを削除する。</p>
<h4 id="エンドポイント"><a name="エンドポイント" class="plugin-anchor" href="#エンドポイント"><i class="fa fa-link" aria-hidden="true"></i></a>エンドポイント</h4>
<p>DELETE /api/<version>/tree/index/<index_id></index_id></version></p>
<h4 id="リクエストヘッダー"><a name="リクエストヘッダー" class="plugin-anchor" href="#リクエストヘッダー"><i class="fa fa-link" aria-hidden="true"></i></a>リクエストヘッダー</h4>
<table>
<thead>
<tr>
<th>ヘッダー</th>
<th>必須</th>
<th>説明</th>
<th>例</th>
</tr>
</thead>
<tbody>
<tr>
<td>Authorization</td>
<td>○</td>
<td>操作するWEKOユーザーのOAuth認証情報。アクセストークンを用いる。<br></br>"Bearer" + " (半角スペース)" + "トークン"の形式。</td>
<td>"Bearer fVzaeTNY5PCHsNS3rZOARrYR7kPBl4"</td>
</tr>
</tbody>
</table>
<h4 id="パスパラメータ"><a name="パスパラメータ" class="plugin-anchor" href="#パスパラメータ"><i class="fa fa-link" aria-hidden="true"></i></a>パスパラメータ</h4>
<table>
<thead>
<tr>
<th>キー</th>
<th>必須</th>
<th>説明</th>
<th>例</th>
</tr>
</thead>
<tbody>
<tr>
<td>version</td>
<td>〇</td>
<td>APIのバージョン</td>
<td>v1</td>
</tr>
<tr>
<td>index_id</td>
<td>〇</td>
<td>削除するインデックスID</td>
<td>1623632832836</td>
</tr>
</tbody>
</table>
<h4 id="レスポンスコード"><a name="レスポンスコード" class="plugin-anchor" href="#レスポンスコード"><i class="fa fa-link" aria-hidden="true"></i></a>レスポンスコード</h4>
<table>
<thead>
<tr>
<th>コード</th>
<th>説明</th>
</tr>
</thead>
<tbody>
<tr>
<td>204</td>
<td>正常終了。インデックスが削除された</td>
</tr>
<tr>
<td>400</td>
<td>リクエストに不備がある</td>
</tr>
<tr>
<td>401</td>
<td>OAuth2認証失敗</td>
</tr>
<tr>
<td>403</td>
<td>ユーザーのロールあるいはトークンのスコープで指定されたインデックスへのアクセスが許可されていない</td>
</tr>
<tr>
<td>404</td>
<td>指定されたインデックスが存在しない</td>
</tr>
<tr>
<td>500</td>
<td>サーバ内部のエラー</td>
</tr>
</tbody>
</table>
<h4 id="レスポンスボディ"><a name="レスポンスボディ" class="plugin-anchor" href="#レスポンスボディ"><i class="fa fa-link" aria-hidden="true"></i></a>レスポンスボディ</h4>
<p><strong>正常終了</strong>
レスポンスボディは空。</p>
<p><strong>異常終了</strong>
| 項目名      | 説明                     |
| ----------- | ------------------------ |
| code        | HTTPステータスコード     |
| description | エラーメッセージ         |</p>
<h2 id="更新履歴"><a name="更新履歴" class="plugin-anchor" href="#更新履歴"><i class="fa fa-link" aria-hidden="true"></i></a>更新履歴</h2>
<table>
<thead>
<tr>
<th>日付</th>
<th>GitHubコミットID</th>
<th>更新内容</th>
</tr>
</thead>
<tbody>
<tr>
<td>2023/08/31</td>
<td>353ba1deb094af5056a58bb40f07596b8e95a562</td>
<td>初版作成</td>
</tr>
<tr>
<td>2025/06/06</td>
<td>34a972ec2f7a26b92cb55cb4524b20bdde180f39</td>
<td>インデックス管理APIについて追記</td>
</tr>
</tbody>
</table>
</body></html>
                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="API_04_workflow.html" class="navigation navigation-prev " aria-label="Previous page: API-4: Workflow API 5">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="API_06_sword_api.html" class="navigation navigation-next " aria-label="Next page: API-6: SWORD API 9">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"API-5: Index操作API 7","level":"2.135","depth":1,"next":{"title":"API-6: SWORD API 9","level":"2.136","depth":1,"path":"api/API_06_sword_api.md","ref":"./api/API_06_sword_api.md","articles":[]},"previous":{"title":"API-4: Workflow API 5","level":"2.134","depth":1,"path":"api/API_04_workflow.md","ref":"./api/API_04_workflow.md","articles":[]},"dir":"ltr"},"config":{"plugins":["intopic-toc","back-to-top-button","anchors","collapsible-chapters","hide-published-with","plantuml-cloud","prism","-highlight"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"prism":{},"intopic-toc":{"selector":".markdown-section h1, .markdown-section h2, .markdown-section h3, .markdown-section h4, .markdown-section h5, .markdown-section h6","mode":"nested","maxDepth":6,"isCollapsed":true,"isScrollspyActive":true,"visible":true,"label":"In this article"},"search":{},"collapsible-chapters":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"hide-published-with":{},"plantuml-cloud":{},"fontsettings":{"theme":"white","family":"sans","size":2},"back-to-top-button":{},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false},"anchors":{}},"theme":"default","author":"Research Center for Open Science and Data Platform, National Institute of Informatics","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56},"embedFonts":false},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"機能仕様書","language":"ja","gitbook":"*","description":""},"file":{"path":"api/API_05_index_op.md","mtime":"2025-10-27T01:52:07.635Z","type":"markdown"},"gitbook":{"version":"6.1.4","time":"2025-10-27T03:25:32.318Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <noscript>
        <style>
            .honkit-cloak {
                display: block !important;
            }
        </style>
    </noscript>
    <script>
        // Restore sidebar state as critical path for prevent layout shift
        function __init__getSidebarState(defaultValue){
            var baseKey = "";
            var key = baseKey + ":sidebar";
            try {
                var value = localStorage[key];
                if (value === undefined) {
                    return defaultValue;
                }
                var parsed = JSON.parse(value);
                return parsed == null ? defaultValue : parsed;
            } catch (e) {
                return defaultValue;
            }
        }
        function __init__restoreLastSidebarState() {
            var isMobile = window.matchMedia("(max-width: 600px)").matches;
            if (isMobile) {
                // Init last state if not mobile
                return;
            }
            var sidebarState = __init__getSidebarState(true);
            var book = document.querySelector(".book");
            // Show sidebar if it enabled
            if (sidebarState && book) {
                book.classList.add("without-animation", "with-summary");
            }
        }

        try {
            __init__restoreLastSidebarState();
        } finally {
            var book = document.querySelector(".book");
            book.classList.remove("honkit-cloak");
        }
    </script>
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-intopic-toc/anchor.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-intopic-toc/gumshoe.polyfills.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-intopic-toc/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-back-to-top-button/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-collapsible-chapters/collapsible-chapters.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-hide-published-with/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/@honkit/honkit-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

