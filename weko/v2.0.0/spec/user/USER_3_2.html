
<!DOCTYPE HTML>
<html lang="ja" >
    <head>
        <meta charset="UTF-8">
        <title>USER-3-2: コンテンツファイル管理 51 · 機能仕様書</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="HonKit 6.1.4">
        <meta name="author" content="Research Center for Open Science and Data Platform, National Institute of Informatics">
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-intopic-toc/style.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-back-to-top-button/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-anchors/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-collapsible-chapters/collapsible-chapters.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/honkit-plugin-prism/prism.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/@honkit/honkit-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="USER_3_3.html" />
    
    
    <link rel="prev" href="USER_3_1.html" />
    

    </head>
    <body>
        
<div class="book honkit-cloak">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="検索ワードを入力" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        <li class="header">ユーザ機能</li>
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">アイテム検索</li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="USER_1_1.html">
            
                <a href="USER_1_1.html">
            
                    
                    USER-1-1: 簡易検索（全文検索・キーワード検索） 1
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="USER_1_2.html">
            
                <a href="USER_1_2.html">
            
                    
                    USER-1-2: 詳細検索 4
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="USER_1_3.html">
            
                <a href="USER_1_3.html">
            
                    
                    USER-1-3: インデックス検索 11
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4" data-path="USER_1_4.html">
            
                <a href="USER_1_4.html">
            
                    
                    USER-1-4: ファセット検索 16
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.5" data-path="USER_1_5.html">
            
                <a href="USER_1_5.html">
            
                    
                    USER-1-5: RSS 19
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.6" data-path="USER_2_1.html">
            
                <a href="USER_2_1.html">
            
                    
                    USER-2-1: 一覧形式表示 23
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.7" data-path="USER_2_2.html">
            
                <a href="USER_2_2.html">
            
                    
                    USER-2-2: 目次形式表示 28
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.8" data-path="USER_2_3.html">
            
                <a href="USER_2_3.html">
            
                    
                    USER-2-3: 雑誌情報 32
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.9" data-path="USER_2_4.html">
            
                <a href="USER_2_4.html">
            
                    
                    USER-2-4: アイテム一括出力 38
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.10" data-path="USER_3_1.html">
            
                <a href="USER_3_1.html">
            
                    
                    USER-3-1: メタデータ表示 44
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="2.11" data-path="USER_3_2.html">
            
                <a href="USER_3_2.html">
            
                    
                    USER-3-2: コンテンツファイル管理 51
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.12" data-path="USER_3_3.html">
            
                <a href="USER_3_3.html">
            
                    
                    USER-3-3: アイテムバージョン管理 63
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.13" data-path="USER_3_4.html">
            
                <a href="USER_3_4.html">
            
                    
                    USER-3-4: 引用情報表示 66
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14" data-path="USER_3_5.html">
            
                <a href="USER_3_5.html">
            
                    
                    USER-3-5: 統計情報表示 69
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.15" data-path="USER_3_6.html">
            
                <a href="USER_3_6.html">
            
                    
                    USER-3-6: 共有 72
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.16" data-path="USER_3_7.html">
            
                <a href="USER_3_7.html">
            
                    
                    USER-3-7: エクスポート 73
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.17" data-path="USER_3_8.html">
            
                <a href="USER_3_8.html">
            
                    
                    USER-3-8: Google Scholar メタデータ出力 81
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.18" data-path="USER_3_9.html">
            
                <a href="USER_3_9.html">
            
                    
                    USER-3-9: Google Dataset メタデータ出力 83
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.19" data-path="USER_3_10.html">
            
                <a href="USER_3_10.html">
            
                    
                    USER-3-10: 所属コミュニティ情報表示
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.20" data-path="USER_3_11.html">
            
                <a href="USER_3_11.html">
            
                    
                    USER-3-11: リクエスト機能
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.21" data-path="USER_3_12.html">
            
                <a href="USER_3_12.html">
            
                    
                    USER-3-12: メールアドレス入力
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.22" data-path="USER_3_13.html">
            
                <a href="USER_3_13.html">
            
                    
                    USER-3-13: アイテム利用申請機能
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.23" data-path="USER_4_1.html">
            
                <a href="USER_4_1.html">
            
                    
                    USER-4-1: アクティビティ一覧表示 85
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.24" data-path="USER_4_2.html">
            
                <a href="USER_4_2.html">
            
                    
                    USER-4-2: ワークフロー一覧表示 95
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.25" data-path="USER_4_3.html">
            
                <a href="USER_4_3.html">
            
                    
                    USER-4-3: ワークフロー 4
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.26" data-path="USER_4_4.html">
            
                <a href="USER_4_4.html">
            
                    
                    USER-4-4: Item Registration 7
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.27" data-path="USER_4_5.html">
            
                <a href="USER_4_5.html">
            
                    
                    USER-4-5: Item Registration：ファイルアップロード 8
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.28" data-path="USER_4_6.html">
            
                <a href="USER_4_6.html">
            
                    
                    USER-4-6: Item Registration：メタデータ入力 23
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.29" data-path="USER_4_7.html">
            
                <a href="USER_4_7.html">
            
                    
                    USER-4-7: Item Registration：代理投稿 28
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.30" data-path="USER_4_8.html">
            
                <a href="USER_4_8.html">
            
                    
                    USER-4-8: Item Registration：フィードバックメール機能 30
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.31" data-path="USER_4_9.html">
            
                <a href="USER_4_9.html">
            
                    
                    USER-4-9: Item Registration：インデックス指定 34
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.32" data-path="USER_4_14.html">
            
                <a href="USER_4_14.html">
            
                    
                    USER-4-14: Item Registration：リクエストメール
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.33" data-path="USER_4_16.html">
            
                <a href="USER_4_16.html">
            
                    
                    USER-4-16: Item Registration：アイテム未登録時の制限公開機能
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.34" data-path="USER_4_10.html">
            
                <a href="USER_4_10.html">
            
                    
                    USER-4-10: Identifier Grant 36
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.35" data-path="USER_4_11.html">
            
                <a href="USER_4_11.html">
            
                    
                    USER-4-11: Item Link 45
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.36" data-path="USER_4_12.html">
            
                <a href="USER_4_12.html">
            
                    
                    USER-4-12: OA Policy Confirmation（現在非対応） 49
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.37" data-path="USER_4_13.html">
            
                <a href="USER_4_13.html">
            
                    
                    USER-4-13: Approval 51
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.38" data-path="USER_4_15.html">
            
                <a href="USER_4_15.html">
            
                    
                    USER-4-15: End
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.39" data-path="USER_5_1.html">
            
                <a href="USER_5_1.html">
            
                    
                    USER-5-1: コミュニティ 53
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.40" data-path="USER_5_2.html">
            
                <a href="USER_5_2.html">
            
                    
                    USER-5-2: コンテンツポリシー
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.41" data-path="USER_6_1.html">
            
                <a href="USER_6_1.html">
            
                    
                    USER-6-1: ランキング 55
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.42" data-path="USER_7_1.html">
            
                <a href="USER_7_1.html">
            
                    
                    USER-7-1: ファイルアップロード 61
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.43" data-path="USER_7_2.html">
            
                <a href="USER_7_2.html">
            
                    
                    USER-7-2: 言語切替 62
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.44" data-path="USER_8_1.html">
            
                <a href="USER_8_1.html">
            
                    
                    USER-8-1: サインアップ 63
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.45" data-path="USER_8_2.html">
            
                <a href="USER_8_2.html">
            
                    
                    USER-8-2: ログイン 65
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.46" data-path="USER_8_3.html">
            
                <a href="USER_8_3.html">
            
                    
                    USER-8-3: パスワードリセット 67
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.47" data-path="USER_8_4.html">
            
                <a href="USER_8_4.html">
            
                    
                    USER-8-4: ユーザープロファイル設定 69
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.48" data-path="USER_8_5.html">
            
                <a href="USER_8_5.html">
            
                    
                    USER-8-5: API設定 71
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.49" data-path="USER_9_1.html">
            
                <a href="USER_9_1.html">
            
                    
                    USER-9-1: Cookie使用確認画面表示 75
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.50" data-path="USER_10_1.html">
            
                <a href="USER_10_1.html">
            
                    
                    USER-10-1: アイテム一覧情報取得
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.51" data-path="USER_10_2.html">
            
                <a href="USER_10_2.html">
            
                    
                    USER-10-2: 簡易アイテム登録機能
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.52" data-path="USER_10_3.html">
            
                <a href="USER_10_3.html">
            
                    
                    USER-10-3: メタデータ自動補完機能
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.53" data-path="../admin/ADMIN_1_1.html">
            
                <a href="../admin/ADMIN_1_1.html">
            
                    
                    ADMIN-1-1: メタデータ 76
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.54" data-path="../admin/ADMIN_1_2.html">
            
                <a href="../admin/ADMIN_1_2.html">
            
                    
                    ADMIN-1-2: マッピング 84
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.55" data-path="../admin/ADMIN_1_3.html">
            
                <a href="../admin/ADMIN_1_3.html">
            
                    
                    ADMIN-1-3: OAIスキーマ 88
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.56" data-path="../admin/ADMIN_1_4.html">
            
                <a href="../admin/ADMIN_1_4.html">
            
                    
                    ADMIN-1-4: プロパティ 90
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.57" data-path="../admin/ADMIN_2_1.html">
            
                <a href="../admin/ADMIN_2_1.html">
            
                    
                    ADMIN-2-1: 一括更新 104
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.58" data-path="../admin/ADMIN_2_2.html">
            
                <a href="../admin/ADMIN_2_2.html">
            
                    
                    ADMIN-2-2: 一括削除 108
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.59" data-path="../admin/ADMIN_2_3.html">
            
                <a href="../admin/ADMIN_2_3.html">
            
                    
                    ADMIN-2-3: 一括エクスポート 110
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.60" data-path="../admin/ADMIN_2_4.html">
            
                <a href="../admin/ADMIN_2_4.html">
            
                    
                    ADMIN-2-4: インポート 113
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.61" data-path="../admin/ADMIN_2_5.html">
            
                <a href="../admin/ADMIN_2_5.html">
            
                    
                    ADMIN-2-5: RO-Crateインポート
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.62" data-path="../admin/ADMIN_3_1.html">
            
                <a href="../admin/ADMIN_3_1.html">
            
                    
                    ADMIN-3-1: ツリー編集 155
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.63" data-path="../admin/ADMIN_3_2.html">
            
                <a href="../admin/ADMIN_3_2.html">
            
                    
                    ADMIN-3-2: 雑誌情報 162
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.64" data-path="../admin/ADMIN_3_3.html">
            
                <a href="../admin/ADMIN_3_3.html">
            
                    
                    ADMIN-3-3: カスタムソート 165
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.65" data-path="../admin/ADMIN_4_1.html">
            
                <a href="../admin/ADMIN_4_1.html">
            
                    
                    ADMIN-4-1: ウィジェット 167
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.66" data-path="../admin/ADMIN_4_2.html">
            
                <a href="../admin/ADMIN_4_2.html">
            
                    
                    ADMIN-4-2: ページレイアウト 180
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.67" data-path="../admin/ADMIN_5_1.html">
            
                <a href="../admin/ADMIN_5_1.html">
            
                    
                    ADMIN-5-1: 編集 185
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.67.1" data-path="../admin/ADMIN_5_1_3.html">
            
                <a href="../admin/ADMIN_5_1_3.html">
            
                    
                    Affiliation ID
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.68" data-path="../admin/ADMIN_5_2.html">
            
                <a href="../admin/ADMIN_5_2.html">
            
                    
                    ADMIN-5-2: 一括出力 198
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.69" data-path="../admin/ADMIN_5_3.html">
            
                <a href="../admin/ADMIN_5_3.html">
            
                    
                    ADMIN-5-3: 一括登録 204
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.70" data-path="../admin/ADMIN_5_4.html">
            
                <a href="../admin/ADMIN_5_4.html">
            
                    
                    ADMIN-5-4: 外部著者ID Prefix
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.71" data-path="../admin/ADMIN_6_1.html">
            
                <a href="../admin/ADMIN_6_1.html">
            
                    
                    ADMIN-6-1: 運用レポート 217
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.72" data-path="../admin/ADMIN_6_2.html">
            
                <a href="../admin/ADMIN_6_2.html">
            
                    
                    ADMIN-6-2: フィードバックメール 233
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.73" data-path="../admin/ADMIN_6_3.html">
            
                <a href="../admin/ADMIN_6_3.html">
            
                    
                    ADMIN-6-3: サイトライセンス 238
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.74" data-path="../admin/ADMIN_7_1.html">
            
                <a href="../admin/ADMIN_7_1.html">
            
                    
                    ADMIN-7-1: フロー 242
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.75" data-path="../admin/ADMIN_7_2.html">
            
                <a href="../admin/ADMIN_7_2.html">
            
                    
                    ADMIN-7-2: ワークフロー 253
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.76" data-path="../admin/ADMIN_7_3.html">
            
                <a href="../admin/ADMIN_7_3.html">
            
                    
                    ADMIN-7-3: ワークスペース設定
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.77" data-path="../admin/ADMIN_8_1.html">
            
                <a href="../admin/ADMIN_8_1.html">
            
                    
                    ADMIN-8-1: コミュニティ 256
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.78" data-path="../admin/ADMIN_8_2.html">
            
                <a href="../admin/ADMIN_8_2.html">
            
                    
                    ADMIN-8-2: 注目のコミュニティ 261
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.79" data-path="../admin/ADMIN_8_3.html">
            
                <a href="../admin/ADMIN_8_3.html">
            
                    
                    ADMIN-8-3: 参加リクエスト 264
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.80" data-path="../admin/ADMIN_9_1.html">
            
                <a href="../admin/ADMIN_9_1.html">
            
                    
                    ADMIN-9-1: ハーベスト 265
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.81" data-path="../admin/ADMIN_9_2.html">
            
                <a href="../admin/ADMIN_9_2.html">
            
                    
                    ADMIN-9-2: Identify 273
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.82" data-path="../admin/ADMIN_9_3.html">
            
                <a href="../admin/ADMIN_9_3.html">
            
                    
                    ADMIN-9-3: Sets 275
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.83" data-path="../admin/ADMIN_10_1.html">
            
                <a href="../admin/ADMIN_10_1.html">
            
                    
                    ADMIN-10-1: Resource List 277
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.84" data-path="../admin/ADMIN_10_2.html">
            
                <a href="../admin/ADMIN_10_2.html">
            
                    
                    ADMIN-10-2: Change List 283
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.85" data-path="../admin/ADMIN_10_3.html">
            
                <a href="../admin/ADMIN_10_3.html">
            
                    
                    ADMIN-10-3: Resync 291
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.86" data-path="../admin/ADMIN_16_1.html">
            
                <a href="../admin/ADMIN_16_1.html">
            
                    
                    ADMIN-16-1: TSV/XML
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.87" data-path="../admin/ADMIN_16_2.html">
            
                <a href="../admin/ADMIN_16_2.html">
            
                    
                    ADMIN-16-2: JSON-LD
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.88" data-path="../admin/ADMIN_11_1.html">
            
                <a href="../admin/ADMIN_11_1.html">
            
                    
                    ADMIN-11-1: 永続識別子 296
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.89" data-path="../admin/ADMIN_11_2.html">
            
                <a href="../admin/ADMIN_11_2.html">
            
                    
                    ADMIN-11-2: レコードメタデータ 299
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.90" data-path="../admin/ADMIN_12_1.html">
            
                <a href="../admin/ADMIN_12_1.html">
            
                    
                    ADMIN-12-1: バケット 302
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.91" data-path="../admin/ADMIN_12_2.html">
            
                <a href="../admin/ADMIN_12_2.html">
            
                    
                    ADMIN-12-2: ファイルインスタンス 306
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.92" data-path="../admin/ADMIN_12_3.html">
            
                <a href="../admin/ADMIN_12_3.html">
            
                    
                    ADMIN-12-3: ロケーション 311
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.93" data-path="../admin/ADMIN_12_4.html">
            
                <a href="../admin/ADMIN_12_4.html">
            
                    
                    ADMIN-12-4: マルチパートオブジェクト 317
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.94" data-path="../admin/ADMIN_12_5.html">
            
                <a href="../admin/ADMIN_12_5.html">
            
                    
                    ADMIN-12-5: オブジェクトバージョン 320
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.95" data-path="../admin/ADMIN_13_1.html">
            
                <a href="../admin/ADMIN_13_1.html">
            
                    
                    ADMIN-13-1: アクセス_ロール 324
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.96" data-path="../admin/ADMIN_13_2.html">
            
                <a href="../admin/ADMIN_13_2.html">
            
                    
                    ADMIN-13-2: アクセス_システムロール 328
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.97" data-path="../admin/ADMIN_13_3.html">
            
                <a href="../admin/ADMIN_13_3.html">
            
                    
                    ADMIN-13-3: アクセス_ユーザー 329
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.98" data-path="../admin/ADMIN_13_4.html">
            
                <a href="../admin/ADMIN_13_4.html">
            
                    
                    ADMIN-13-4: 連結アカウント識別子 330
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.99" data-path="../admin/ADMIN_13_5.html">
            
                <a href="../admin/ADMIN_13_5.html">
            
                    
                    ADMIN-13-5: 連結アカウントトークン 331
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.100" data-path="../admin/ADMIN_13_6.html">
            
                <a href="../admin/ADMIN_13_6.html">
            
                    
                    ADMIN-13-6: 連結アカウント 332
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.101" data-path="../admin/ADMIN_13_7.html">
            
                <a href="../admin/ADMIN_13_7.html">
            
                    
                    ADMIN-13-7: OAuthアプリケーショントークン 333
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.102" data-path="../admin/ADMIN_13_8.html">
            
                <a href="../admin/ADMIN_13_8.html">
            
                    
                    ADMIN-13-8: OAuthアプリケーション 336
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.103" data-path="../admin/ADMIN_13_9.html">
            
                <a href="../admin/ADMIN_13_9.html">
            
                    
                    ADMIN-13-9: ロール 339
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.104" data-path="../admin/ADMIN_13_10.html">
            
                <a href="../admin/ADMIN_13_10.html">
            
                    
                    ADMIN-13-10: セッションアクティビティ 343
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.105" data-path="../admin/ADMIN_13_11.html">
            
                <a href="../admin/ADMIN_13_11.html">
            
                    
                    ADMIN-13-11: ユーザー 345
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.106" data-path="../admin/ADMIN_13_12.html">
            
                <a href="../admin/ADMIN_13_12.html">
            
                    
                    ADMIN-13-12: ユーザープロファイル 350
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.107" data-path="../admin/ADMIN_14_1.html">
            
                <a href="../admin/ADMIN_14_1.html">
            
                    
                    ADMIN-14-1: アイテム表示 354
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.108" data-path="../admin/ADMIN_14_2.html">
            
                <a href="../admin/ADMIN_14_2.html">
            
                    
                    ADMIN-14-2: インデックスリンク表示 356
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.109" data-path="../admin/ADMIN_14_3.html">
            
                <a href="../admin/ADMIN_14_3.html">
            
                    
                    ADMIN-14-3: 言語表示 357
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.110" data-path="../admin/ADMIN_14_4.html">
            
                <a href="../admin/ADMIN_14_4.html">
            
                    
                    ADMIN-14-4: PDFカバーページ表示 361
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.111" data-path="../admin/ADMIN_14_5.html">
            
                <a href="../admin/ADMIN_14_5.html">
            
                    
                    ADMIN-14-5: ランキング表示 364
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.112" data-path="../admin/ADMIN_14_6.html">
            
                <a href="../admin/ADMIN_14_6.html">
            
                    
                    ADMIN-14-6: 統計情報表示 367
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.113" data-path="../admin/ADMIN_14_7.html">
            
                <a href="../admin/ADMIN_14_7.html">
            
                    
                    ADMIN-14-7: 画面背景色 369
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.114" data-path="../admin/ADMIN_14_8.html">
            
                <a href="../admin/ADMIN_14_8.html">
            
                    
                    ADMIN-14-8: 識別子 370
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.115" data-path="../admin/ADMIN_14_9.html">
            
                <a href="../admin/ADMIN_14_9.html">
            
                    
                    ADMIN-14-9: アイテム一括出力 374
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.116" data-path="../admin/ADMIN_14_10.html">
            
                <a href="../admin/ADMIN_14_10.html">
            
                    
                    ADMIN-14-10: ログ解析 375
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.117" data-path="../admin/ADMIN_14_11.html">
            
                <a href="../admin/ADMIN_14_11.html">
            
                    
                    ADMIN-14-11: 検索設定 380
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.118" data-path="../admin/ADMIN_14_12.html">
            
                <a href="../admin/ADMIN_14_12.html">
            
                    
                    ADMIN-14-12: ファセット検索 385
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.119" data-path="../admin/ADMIN_14_13.html">
            
                <a href="../admin/ADMIN_14_13.html">
            
                    
                    ADMIN-14-13: サイト情報 395
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.120" data-path="../admin/ADMIN_14_14.html">
            
                <a href="../admin/ADMIN_14_14.html">
            
                    
                    ADMIN-14-14: サイトライセンス 398
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.121" data-path="../admin/ADMIN_14_15.html">
            
                <a href="../admin/ADMIN_14_15.html">
            
                    
                    ADMIN-14-15: サイトマップ 399
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.122" data-path="../admin/ADMIN_14_16.html">
            
                <a href="../admin/ADMIN_14_16.html">
            
                    
                    ADMIN-14-16: メール送信 404
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.123" data-path="../admin/ADMIN_14_17.html">
            
                <a href="../admin/ADMIN_14_17.html">
            
                    
                    ADMIN-14-17: WebAPIアカウント 406
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.124" data-path="../admin/ADMIN_14_18.html">
            
                <a href="../admin/ADMIN_14_18.html">
            
                    
                    ADMIN-14-18: ファイルプレビュー 408
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.125" data-path="../admin/ADMIN_14_19.html">
            
                <a href="../admin/ADMIN_14_19.html">
            
                    
                    ADMIN-14-19: Shibboleth 410
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.126" data-path="../admin/ADMIN_14_20.html">
            
                <a href="../admin/ADMIN_14_20.html">
            
                    
                    ADMIN-14-20: 制限公開 412
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.127" data-path="../admin/ADMIN_14_21.html">
            
                <a href="../admin/ADMIN_14_21.html">
            
                    
                    ADMIN-14-21: その他 422
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.128" data-path="../admin/ADMIN_14_22.html">
            
                <a href="../admin/ADMIN_14_22.html">
            
                    
                    ADMIN-14-22: メールテンプレート
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.129" data-path="../admin/ADMIN_17_1.html">
            
                <a href="../admin/ADMIN_17_1.html">
            
                    
                    ADMIN-17-1: エクスポート
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.130" data-path="../admin/ADMIN_15_1.html">
            
                <a href="../admin/ADMIN_15_1.html">
            
                    
                    ADMIN-15-1: Elasticsearchインデックス 423
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.131" data-path="../api/API_01_Oauth2.html">
            
                <a href="../api/API_01_Oauth2.html">
            
                    
                    API-1: OAuth2 425
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.132" data-path="../api/API_02_OAIPMH.html">
            
                <a href="../api/API_02_OAIPMH.html">
            
                    
                    API-2: OAI-PMH 429
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.133" data-path="../api/API_03_OpenSearch.html">
            
                <a href="../api/API_03_OpenSearch.html">
            
                    
                    API-3: OpenSearch 436
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.134" data-path="../api/API_04_workflow.html">
            
                <a href="../api/API_04_workflow.html">
            
                    
                    API-4: Workflow API 5
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.135" data-path="../api/API_05_index_op.html">
            
                <a href="../api/API_05_index_op.html">
            
                    
                    API-5: Index操作API 7
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.136" data-path="../api/API_06_sword_api.html">
            
                <a href="../api/API_06_sword_api.html">
            
                    
                    API-6: SWORD API 9
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.137" data-path="../api/API_07_item_search.html">
            
                <a href="../api/API_07_item_search.html">
            
                    
                    API-7: アイテム検索用API 20
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.138" data-path="../api/API_08_index_search.html">
            
                <a href="../api/API_08_index_search.html">
            
                    
                    API-8: インデックス検索用API 43
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.139" data-path="../api/API_09_render.html">
            
                <a href="../api/API_09_render.html">
            
                    
                    API-9: Render 81
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.140" data-path="../api/API_10_JSON_Schema.html">
            
                <a href="../api/API_10_JSON_Schema.html">
            
                    
                    API-10: JSON Schema 165
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.141" data-path="../api/API_11_JSON_Form.html">
            
                <a href="../api/API_11_JSON_Form.html">
            
                    
                    API-11: JSON Form 187
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.142" data-path="../other/SCHEMA_1_1.html">
            
                <a href="../other/SCHEMA_1_1.html">
            
                    
                    SCHEMA-1-1: Render 328
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.143" data-path="../other/SCHEMA_1_2.html">
            
                <a href="../other/SCHEMA_1_2.html">
            
                    
                    SCHEMA-1-2: Schema 329
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.144" data-path="../other/SCHEMA_1_3.html">
            
                <a href="../other/SCHEMA_1_3.html">
            
                    
                    SCHEMA-1-3: Form 329
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.145" data-path="../other/MODULE_01.html">
            
                <a href="../other/MODULE_01.html">
            
                    
                    モジュール、ライブラリ 330
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.146" data-path="../other/CONFIG_01.html">
            
                <a href="../other/CONFIG_01.html">
            
                    
                    コンフィグ 331
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.147" data-path="../other/DB_01.html">
            
                <a href="../other/DB_01.html">
            
                    
                    DB 336
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.148" data-path="../other/OTHER_elasticsearch.html">
            
                <a href="../other/OTHER_elasticsearch.html">
            
                    
                    elasticsearch 337
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.149" data-path="../other/CELERY_01.html">
            
                <a href="../other/CELERY_01.html">
            
                    
                    celery タスク 342
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.150" data-path="../other/LOG.html">
            
                <a href="../other/LOG.html">
            
                    
                    ログ 345
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.151" data-path="../other/USAGE_LOG.html">
            
                <a href="../other/USAGE_LOG.html">
            
                    
                    利用統計ログ
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.152" data-path="../other/USER_ACTIVITY_LOG.html">
            
                <a href="../other/USER_ACTIVITY_LOG.html">
            
                    
                    基本監査ログ
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.153" data-path="../other/SESSION_01.html">
            
                <a href="../other/SESSION_01.html">
            
                    
                    セッション管理 357
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.154" data-path="../api/API_ENDPOINT_01.html">
            
                <a href="../api/API_ENDPOINT_01.html">
            
                    
                    API Endpoint 358
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.155" data-path="../other/SHIBBOLETH_01.html">
            
                <a href="../other/SHIBBOLETH_01.html">
            
                    
                    Shibboleth対応 359
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.156" data-path="../other/WORKFLOW_01.html">
            
                <a href="../other/WORKFLOW_01.html">
            
                    
                    GakuNinRDM連携 362
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.157" data-path="../other/ID_01.html">
            
                <a href="../other/ID_01.html">
            
                    
                    ID体系 371
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.158" data-path="../other/KAISEKI_01.html">
            
                <a href="../other/KAISEKI_01.html">
            
                    
                    解析基盤連携 372
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.159" data-path="../other/INBOX_01.html">
            
                <a href="../other/INBOX_01.html">
            
                    
                    プッシュ通知機能
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.160" data-path="../restricted_access/RESTRICTED_ACCESS_01.html">
            
                <a href="../restricted_access/RESTRICTED_ACCESS_01.html">
            
                    
                    RESTRICTED_ACCESS-13-1: アイテムタイプ管理（制限公開） 373
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.161" data-path="../restricted_access/RESTRICTED_ACCESS_02.html">
            
                <a href="../restricted_access/RESTRICTED_ACCESS_02.html">
            
                    
                    RESTRICTED_ACCESS-13-2: アイテム詳細(制限公開) 376
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.162" data-path="../restricted_access/RESTRICTED_ACCESS_03.html">
            
                <a href="../restricted_access/RESTRICTED_ACCESS_03.html">
            
                    
                    RESTRICTED_ACCESS-13-3: ワークフロー管理（制限公開） 378
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.163" data-path="../restricted_access/RESTRICTED_ACCESS_04.html">
            
                <a href="../restricted_access/RESTRICTED_ACCESS_04.html">
            
                    
                    RESTRICTED_ACCESS-13-4: メールテンプレート 381
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.164" data-path="../tools/TOOL_01.html">
            
                <a href="../tools/TOOL_01.html">
            
                    
                    TOOL-1: システムプロパティマッピング 390
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://github.com/honkit/honkit" target="blank" class="gitbook-link">
            HonKitで公開 
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >USER-3-2: コンテンツファイル管理 51</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <html><head></head><body><h1 id="コンテンツファイル管理"><a name="コンテンツファイル管理" class="plugin-anchor" href="#コンテンツファイル管理"><i class="fa fa-link" aria-hidden="true"></i></a>コンテンツファイル管理</h1>
<h2 id="目的・用途"><a name="目的・用途" class="plugin-anchor" href="#目的・用途"><i class="fa fa-link" aria-hidden="true"></i></a>目的・用途</h2>
<p>本機能は、アイテムに登録されたファイルの情報を表示し、ファイルバージョンを管理する機能である。</p>
<h2 id="利用方法"><a name="利用方法" class="plugin-anchor" href="#利用方法"><i class="fa fa-link" aria-hidden="true"></i></a>利用方法</h2>
<ul>
<li>アイテム詳細画面にファイル一覧を表示</li>
<li>【information】を押下してファイルの詳細情報の表示</li>
<li>【download】を押下してファイルのダウンロード</li>
<li>【Import to GakuNin RDM】を押下することでGakuNin RDMへファイルを取り込み</li>
</ul>
<h2 id="利用可能なロール"><a name="利用可能なロール" class="plugin-anchor" href="#利用可能なロール"><i class="fa fa-link" aria-hidden="true"></i></a>利用可能なロール</h2>
<table>
<thead>
<tr>
<th>ロール</th>
<th>システム管理者</th>
<th>リポジトリ管理者</th>
<th>コミュニティ管理者</th>
<th>登録ユーザ</th>
<th>一般ユーザ</th>
<th>ゲスト(未ログイン)</th>
</tr>
</thead>
<tbody>
<tr>
<td>利用可否</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
</tr>
</tbody>
</table>
<h2 id="機能内容"><a name="機能内容" class="plugin-anchor" href="#機能内容"><i class="fa fa-link" aria-hidden="true"></i></a>機能内容</h2>
<h3 id="1-ファイルの情報を表示する"><a name="1-ファイルの情報を表示する" class="plugin-anchor" href="#1-ファイルの情報を表示する"><i class="fa fa-link" aria-hidden="true"></i></a>1. ファイルの情報を表示する</h3>
<ul>
<li><p>【アイテム詳細画面】の上端にファイルの情報を表示するアイテム登録時に選択された表示形式に応じてファイルの情報を以下のように表示する</p>
<ul>
<li><p>表示形式： <strong>簡易表示（Simple）</strong></p>
<ul>
<li><p>登録されたファイル一覧を表示する。「Name/File (名前 / ファイル)」列にファイル名を表示し、ラベルが登録されている場合はファイル名の代わりにラベルが表示される。<br></br>コンテンツファイルが登録されていない場合は、「Name/File (名前 / ファイル)」列に本文URLが表示される。ラベルが登録されている場合は本文URLの代わりにラベルが表示される。</p>
<ul>
<li><p>ファイル名リンク：コンテンツファイルをダウンロードする。<br></br>コンテンツファイルが登録されていない場合はリンク先のURLへ遷移する。</p>
</li>
<li><p>オープンアクセス指定日より前は「Download is available from YYYY/MM/DD.」と表示する。日付が一桁の場合、0埋め表示をしない。<br></br>ログインしているロールが該当登録者、管理者以外の場合は、公開されていないファイルを選択すると、「権限が必要です (Permission required)」と表示する。STATS_WEKO_DEFAULT_TIMEZONEに設定されたタイムゾーンに基づく時刻を表示する。</p>
</li>
</ul>
</li>
<li><p>ファイルに対してのアクション</p>
<ul>
<li><p>【ダウンロード（Download）】：該当ファイルをダウンロードする。<br></br>コンテンツファイルが登録されていない場合はリンク先のURLへ遷移する。</p>
</li>
<li><p>【Information】：該当ファイル詳細画面に移動する。</p>
</li>
<li>【Import to GakuNin RDM】:GakuNin RDMへインポートする機能を提供する。</li>
</ul>
</li>
</ul>
</li>
<li><p>表示形式： <strong>詳細（Detail）</strong></p>
<ul>
<li><p>登録されたファイル一覧を表示する。「Name/File (名前 / ファイル)」列にファイル名を表示し、ラベルが登録されている場合はファイル名の代わりにラベルが表示される。<br></br>コンテンツファイルが登録されていない場合は、「Name/File (名前 / ファイル)」列に本文URLが表示される。ラベルが登録されている場合は本文URLの代わりにラベルが表示される。</p>
<ul>
<li><p>ファイル名リンク：コンテンツファイルをダウンロードする。<br></br>コンテンツファイルが登録されていない場合はリンク先のURLへ遷移する。</p>
</li>
<li><p>オープンアクセス指定日より前は「「Download is available from YYYY/MM/DD.」と表示する。日付が一桁の場合、0埋め表示をしない。ログインしているロールが該当登録者、管理者以外の場合は、公開されていないファイルを選択すると、「権限が必要です (Permission required)」と表示する。</p>
</li>
</ul>
</li>
<li><p>ファイルのライセンス</p>
<ul>
<li><p>「Write your own license」を選択した場合、テキストボックスに入力されたライセンス値を表示する。</p>
</li>
<li><p>「Creative Commons」ライセンスから選択した場合、該当ライセンスアイコンを表示する。</p>
<ul>
<li><p>システムの表示言語が日本語の場合、ライセンスアイコンを押すと、日本語版のリンク先へ移動する。</p>
</li>
<li><p>システムの表示言語が日本語以外の場合、ライセンスアイコンを押すと、英語版のリンク先へ移動する。</p>
</li>
</ul>
</li>
</ul>
</li>
<li><p>ファイルに対してのアクション</p>
<ul>
<li><p>【ダウンロード（Download）】：該当ファイルをダウンロードする。<br></br>コンテンツファイルが登録されていない場合はリンク先のURLへ遷移する。</p>
</li>
<li><p>【Information】：該当ファイル詳細画面に移動する。</p>
</li>
<li>【Import to GakuNin RDM】:GakuNin RDMへインポートする機能を提供する。</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<pre class="language-"><code>  - 表示形式： **プレビュー（Preview）**

      - ファイルのプレビューを表示する（プレビューの仕様について、「3-2.2 登録されたコンテンツファイル及び課金ファイルをプレビューできる」に参考する）

          - プレビューエリアを開閉する。

          - スライドナビゲーションで、プレビュー対象を切り替える。  
            コンテンツファイルが無い場合は表示形式をプレビュー (Preview)と選択してもプレビューエリアは表示しない。また、コンテンツファイルがない場合表示形式に関係なく、【プレビュー (Preview)】、【ダウンロード (Download)】ボタンを表示しない。  
            公開前のアイテムがある場合は「Cannot preview file」と表示する。  
            該当登録者、管理者以外で公開前のアイテムがある場合は「Restricted Access」と表示する。

      - ファイルサイズによりプレビューできない場合は、「Cannot preview file」の表示に、「 file size exceeded. 」が表示される。表示可能なファイルサイズの閾値は定数「WEKO\_ITEMS\_UI\_FILE\_SISE\_PREVIEW\_LIMIT」より設定できる。登録されたファイル一覧を表示する。

          - ファイル名リンク：コンテンツファイルをダウンロードする。  
            コンテンツファイルが登録されていない場合はリンク先のURLへ遷移する。

      - ファイルに対してのアクション

          - 【ダウンロード（Download）】：該当ファイルをダウンロードする。  
            コンテンツファイルが登録されていない場合はリンク先のURLへ遷移する。

          - 【Information】：該当ファイル詳細画面に移動する。

          - 【プレビュー（Preview）】：該当ファイルのプレビューをプレビューエリアに表示する。
        　- 【Import to GakuNin RDM】:GakuNin RDMへインポートする機能を提供する。
</code></pre><h3 id="2-登録されたコンテンツファイル及び課金ファイルをプレビューできる。"><a name="2-登録されたコンテンツファイル及び課金ファイルをプレビューできる。" class="plugin-anchor" href="#2-登録されたコンテンツファイル及び課金ファイルをプレビューできる。"><i class="fa fa-link" aria-hidden="true"></i></a>2. 登録されたコンテンツファイル及び課金ファイルをプレビューできる。</h3>
<ul>
<li><p>ファイルを登録する時、アイテム登録画面での表示形式を「プレビュー(Preview)」を選択すると、アイテム詳細画面に登録されたファイルをプレビューできる。</p>
</li>
<li><p>invenio-previewerが提供するすべてのファイルプレビューを利用できる。</p>
</li>
<li><p>対応しているファイルタイプ：</p>
<ul>
<li><p>Markdown</p>
</li>
<li><p>JSON/XML</p>
</li>
<li><p>CSV</p>
</li>
<li><p>PDF</p>
</li>
<li><p>Simple Images(PNG、JPG、GIF)</p>
</li>
<li><p>Zip</p>
</li>
<li><p>Jupiter Notebook(.jpynbファイル)</p>
</li>
<li><p>MS Office</p>
</li>
<li><p>動画、音声(MP3、MP4、WEBM、OGG、WAV)</p>
</li>
</ul>
</li>
<li><p>複数ファイルを登録する場合、ファイルをスライド表示でプレビューできる。</p>
<ul>
<li><p>プレビューエリアにスライドナビゲーションを表示する。</p>
<ul>
<li><p>プレビュー切替はコンテンツファイル一覧の並びに依存する。</p>
</li>
<li><p>スライドナビゲーションにて、先頭（|\&lt;）/前（＜）/次（＞）/末尾（&gt;|）のスライドへ移動できる。</p>
</li>
</ul>
</li>
</ul>
</li>
<li><blockquote>
<p>PDF形式のファイルに対して、PDFにはカバーページが付与される場合、PDFカバーページはコンテンツファイルの1ページ目に付与し、コンテンツファイルの中身と合わせてカバーページをプレビューに表示する</p>
</blockquote>
</li>
<li><p>PDF形式のファイルのプレビューは、拡大率やページ数を変更する機能のあるツールバーに囲われた状態で表示される。</p>
</li>
<li><p>ファイルプレビューエリアを開閉できる</p>
</li>
<li><p>プレビューエリアでの上部に「プレビュー」リンクをクリックすると、ファイルプレビューエリアを開閉する。</p>
</li>
<li><p>表示形式をプレビューとしたJPEGファイルは、ファイルバージョンの管理を行う。</p>
</li>
</ul>
<h3 id="3-コンテンツファイル及び課金ファイルにアクセス制限がかけられている。"><a name="3-コンテンツファイル及び課金ファイルにアクセス制限がかけられている。" class="plugin-anchor" href="#3-コンテンツファイル及び課金ファイルにアクセス制限がかけられている。"><i class="fa fa-link" aria-hidden="true"></i></a>3. コンテンツファイル及び課金ファイルにアクセス制限がかけられている。</h3>
<ul>
<li>アクセス制限の内容を「5.2. 実装方法」での「(1)アイテム詳細画面に表示、ダウンロードする処理」を参照する。</li>
</ul>
<h3 id="4-コンテンツファイルごとに更新履歴を表示する。"><a name="4-コンテンツファイルごとに更新履歴を表示する。" class="plugin-anchor" href="#4-コンテンツファイルごとに更新履歴を表示する。"><i class="fa fa-link" aria-hidden="true"></i></a>4. コンテンツファイルごとに更新履歴を表示する。</h3>
<ul>
<li><p>アイテム詳細画面の各ファイルの表示の【Information】ボタンを押すと、該当ファイル詳細画面に移動する。</p>
<ul>
<li><p>アイテム詳細画面と同様にファイルのプレビューを表示する</p>
</li>
<li><p>ファイル情報の属性情報を表形式で表示する。アイテム登録／編集時に登録していない属性情報は表示されない</p>
<ul>
<li><p>公開日：　{YYYY}-{MM}-{DD} 形式　(※公開日は必須のため必ず表示される)。エンバーゴが指定されている場合は、エンバーゴ日。オープンアクセスの場合はアイテム公開日を表示する。</p>
</li>
<li><p>表示名(FileName)：　ファイル情報の表示名</p>
</li>
<li><p>本文URL(Text URL)：　{protocol}://{host}/records/{id}/files/{ファイル名} 形式</p>
</li>
<li><p>ラベル(Label)：　ファイル情報で入力したラベル名</p>
</li>
<li><p>オブジェクトタイプ(Object Type)：　ファイル情報で選択したオブジェクトタイプ</p>
</li>
<li><p>フォーマット(Format)：　システムが出力したフォーマットの値</p>
</li>
<li><p>サイズ(Size)：　システムが出力したサイズ、または手入力したサイズ（複数入力可能）</p>
</li>
<li><p>日付タイプ(Date Type)：　ファイル情報で選択した日付タイプ（複数入力可能）</p>
</li>
<li><p>日付(Date)：　{YYYY}-{MM}-{DD} 形式（複数入力可能）</p>
</li>
<li><p>バージョン情報(Version Information)：　アイテム登録／編集時に入力した値</p>
</li>
</ul>
</li>
<li><p>ファイル詳細画面では、アイテム詳細画面のファイル情報に加えて、「バージョン」タブに更新履歴情報を表示する。<br></br>更新履歴の表示項目は、以下とする。</p>
</li>
</ul>
</li>
</ul>
<table>
<thead>
<tr class="header">
<th>#</th>
<th>表示項目</th>
<th>説明</th>
<th>備考</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>バージョン（Version）</td>
<td>ファイルのバージョンを表示する<br></br>
最新バージョンはCurrentと表示する</td>
<td>コンテンツファイルが削除された場合は該当バージョンを論理削除する</td>
</tr>
<tr class="even">
<td>2</td>
<td>更新日時（Date Modified）</td>
<td>コンテンツファイルの登録日時</td>
<td>ISO8601のTZ付き形式とする<br></br>
形式：「YYYY-MM-DD hh:mm:ss」</td>
</tr>
<tr class="odd">
<td>3</td>
<td>オブジェクトファイル名（Object File Name）</td>
<td><p>コンテンツファイルにアクセス可能なリンクになっている</p>
<p>※ファイルサイズが大きい場合はマルチパートダウンロードのURLへ差し替えとなる。 マルチパートダウンロードの詳細は、[アイテム詳細]&gt;[コンテンツファイル管理]&gt;[ マルチパートダウンロード処理について]を参照</p></td>
<td>/api/files/BUCKET_ID/FileName</td>
</tr>
<tr class="even">
<td>4</td>
<td>ファイル容量（File Size）</td>
<td>ファイル容量をバイト表示する</td>
<td></td>
</tr>
<tr class="odd">
<td>5</td>
<td>ファイルハッシュ値（File Hash Value）</td>
<td></td>
<td>sha256ハッシュ値</td>
</tr>
<tr class="even">
<td>6</td>
<td>投稿者名（Contributor Name）</td>
<td>ファイルを登録したユーザ名</td>
<td>ゲストユーザの場合は非表示とする</td>
</tr>
<tr class="odd">
<td>7</td>
<td>表示/非表示（Show/Hide）</td>
<td>本項目は管理者またはアイテム登録者のみ表示される<br></br>
本項目を最新バージョンの行に表示しない<br></br>
また、"表示"に設定した場合、該当行が全ユーザに表示される</td>
<td></td>
</tr>
</tbody>
</table>

<ul>
<li><p>該当アイテムが非公開と設定すれば、</p>
<ul>
<li><p>該当登録者、管理者以外の場合、ファイル詳細画面に移動せずに、「権限が必要です (Permission required)」を表示する</p>
</li>
<li><p>ゲストユーザの場合、ログインをリクエストする</p>
</li>
</ul>
</li>
<li><p>ファイル詳細画面が既に表示される場合、ファイルが「公開しない」（Do not publish）と変更すれば、ファイル詳細画面をリロードする。<br></br>該当登録者、管理者以外（ゲストユーザーを含む）に対して、「アクセス制限」のエラーメッセージをプレビューエリアに表示する</p>
</li>
<li><p>ファイル情報エリアの表示／非表示は、以下の図の After の表に従って表示制御する<br></br>別紙「変更前後のマトリクス.png」を参照。</p>
<ul>
<li><p>※１　オープンアクセス指定日より前は「YYYY年MM月DD日からダウンロード可能です」とファイル情報エリアのName/File欄に表示する</p>
</li>
<li><p>※２　登録ユーザ権限以下のユーザがログインした状態で、ファイル情報エリアのダウンロードボタン、プレビューボタンを押下した際、「権限が必要です (Permission required)」と表示する</p>
</li>
<li><p>※３　「ログインユーザーのみ」の場合、「アクセス制限」（英「Restricted Access」）と表示する</p>
</li>
</ul>
</li>
<li><p>コンテンツファイル登録時にオープンアクセス日を未来日に指定し、指定日より前に表示した場合、以下のメッセージをファイル情報エリアのName/File欄に表示する。オープンアクセス日はローカル時間で表示される。<br></br>(日)「YYYY年MM月DD日からダウンロード可能です」<br></br>(英)「Download is available from YYYY/MM/DD.」</p>
</li>
<li><p>ファイルのリンク、[ダウンロード(Download)]ボタン、[プレビュー(Preview)]ボタンを押下すると、ログイン画面を表示する（Shibboleth連携の場合はShibbolethログイン画面を表示する）</p>
<ul>
<li><p>ログイン認証時、権限のチェックを行う。</p>
<ul>
<li><p>ログインユーザーロール（上記マトリクス※2）の場合</p>
<ul>
<li><p>ログイン認証後、以下のメッセージをポップアップ表示する。<br></br>(日)「YYYY年MM月DD日からダウンロード/プレビュー可能です」<br></br>(英)「Download / Preview is available from YYYY/MM/DD.」</p>
</li>
<li><p>既にログインしている状態で、ファイル情報エリアのダウンロードボタンもしくはプレビューボタンを押下した際、上記メッセージを表示する</p>
</li>
</ul>
</li>
<li><p>登録ユーザーロール以上の権限の場合(登録ユーザ、リポジトリ管理者、コミュニティ管理者、システム管理者)</p>
<ul>
<li>ログイン認証後、ファイルのダウンロード/プレビューが行える</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>ゲスト(非ログイン)ユーザが参照する場合、ファイル情報エリアを表示し、以下のメッセージをファイル情報エリアのName/File欄に表示する<br></br>(日)「アクセス制限」<br></br>(英)「Restricted Access」</p>
</li>
<li><p>ゲスト(非ログイン)ユーザがログイン認証後は、アイテム詳細表示画面に遷移する</p>
</li>
<li><p>アイテム詳細画面の各ファイルの「Actions」表示欄に「申請」ボタンを表示する。「申請」ボタンを押すと、アイテム登録時に指定した提供方法に応じたワークフローが起動すること</p>
<ul>
<li><p>提供方法に一致しないユーザが「申請」ボタンを押下した場合はモーダルで警告メッセージを表示する</p>
</li>
<li><p>起動したワークフローが「作業済(Done)」になった際、ワークフローを起動したユーザにファイルのダウンロードリンクをメールで送信すること</p>
</li>
</ul>
</li>
</ul>
<h3 id="5-コンテンツファイルのアクセス制御"><a name="5-コンテンツファイルのアクセス制御" class="plugin-anchor" href="#5-コンテンツファイルのアクセス制御"><i class="fa fa-link" aria-hidden="true"></i></a>5. コンテンツファイルのアクセス制御</h3>
<p>コンテンツファイルが「未来日」・「ログインユーザのみ」・「公開しない」設定であり、インデックス条件が、アイテムが所属するインデックスとその上位のインデックスが「公開」設定(未来日では無い)の場合、以下のようにアクセス制御を行う</p>
<ul>
<li><p>Guest</p>
<ul>
<li><p>【ダウンロード (Download)】押下：　ログイン要求をする</p>
</li>
<li><p>DLのURLを入力：　ログイン要求をする<br></br>※入力するURLは登録者(Contributor)以上がボタンを押下したときのURL( } )とする</p>
</li>
<li><p>ログイン要求でログインしたあと、ロールの種類に応じて画面遷移する</p>
<ul>
<li><p>登録者以外(ログインユーザ)：　"Permission required"を表示</p>
</li>
<li><p>登録者以上：　DL可能</p>
</li>
</ul>
</li>
<li><p>Informatonボタン押下：　ログイン要求をする</p>
</li>
<li><p>Informaton画面のURLを入力：　ログイン要求をする</p>
</li>
<li><p>ログイン要求でログインしたあと、ロールの種類に応じて画面遷移する</p>
<ul>
<li><p>登録者以外(ログインユーザ)：　"Permission required"を表示</p>
</li>
<li><p>登録者以上：Information画面を表示</p>
</li>
</ul>
</li>
</ul>
</li>
<li><p>Authenticated User</p>
<ul>
<li><p>【ダウンロード (Download)】ボタン押下：　"Permission required"を表示する</p>
</li>
<li><p>DLのURLを入力：　"Permission required"を表示する<br></br>※入力するURLは登録者(Contributor)以上がボタンを押下したときのURL( } )とする</p>
</li>
<li><p>【Informaton】押下：　"Permission required"を表示する</p>
</li>
<li><p>「Informaton」画面のURLを入力：　"Permission required"を表示する</p>
</li>
</ul>
</li>
</ul>
<!-- end list -->
<ul>
<li><p>「制限公開」設定のファイルについては、下記条件の場合、DLボタンの代わりにApply（申請）ボタンが表示される。</p>
<ul>
<li><p>1.対象のコンテンツ（＝ファイル）のアクセスロールが「制限公開」（open_restricted）である。</p>
</li>
<li><p>2.該当コンテンツをダウンロードする権限が、画面表示しているユーザ（未ログイン含む）に無い。</p>
</li>
<li><p>3.WEKO_ADMIN_RESTRICTED_ACCESS_DISPLAY_FLAG が True である。</p>
</li>
<li><p>　※アイテム登録者やリポジトリ管理者のみならず、申請によって権限を得ているログインユーザもダウンロード権限があるとみなす。</p>
<ul>
<li>Applyボタン押下の処理は、本書「実装方法」の「ダウンロード処理について」にある、「アクセスが「制限公開」（Restricted Access）と設定されているコンテンツに対して」の説明を参照</li>
</ul>
</li>
<li><p>Information画面にて、「シークレットURLボタン」が表示される。</p>
<ul>
<li><p>下記をすべて満たす場合表示</p>
<ul>
<li><p>1.アイテム登録者・代理投稿者、またはリポジトリ管理者・システム管理者である。</p>
</li>
<li><p>2.管理画面の制限公開画面にて、シークレットURLの表示が有効である。</p>
</li>
<li><p>3.ファイルが「公開しない」である。または、ファイルが「オープンアクセス日を指定する」かつ指定日が未来日である（WEKO_ADMIN_RESTRICTED_ACCESS_DISPLAY_FLAG が False の際の「制限公開」は対象外）。</p>
</li>
</ul>
</li>
<li><p>シークレットURLボタンを押下すると、URL編集エリアを表示する。URL表示エリアには以下の項目があり、保存されるURLの項目を編集できる</p>
<ul>
<li><p>1.リンク名を入力する項目</p>
<ul>
<li><p>最大文字数：50文字</p>
</li>
<li><p>最小文字数：1文字</p>
</li>
<li><p>50文字まで入力を受け付ける</p>
</li>
</ul>
</li>
<li><p>2.発行されるシークレットURLの使用期限を設定する項目</p>
<ul>
<li><p>初期値は管理者画面で設定される「有効期限日数」の値</p>
</li>
<li><p>最大値は管理者画面で設定される「有効期限日数上限」の値</p>
</li>
<li><p>カレンダーから日付を選択</p>
</li>
<li><p>フィールド下部に「有効期限日数上限」の上限日が表示される。</p>
</li>
</ul>
</li>
<li><p>3.配布されたシークレットURLの使用回数を設定する項目</p>
<ul>
<li><p>初期値は管理者画面で設定される「ダウンロード回数」の値</p>
</li>
<li><p>最大値は管理者画面で設定される「ダウンロード回数上限」の値</p>
</li>
<li><p>数字でのみ入力が可能。管理者画面で設定される「ダウンロード回数上限」以上の入力は受け付けない</p>
</li>
<li><p>フィールド下部に「ダウンロード回数上限」の上限値が表示される</p>
</li>
</ul>
</li>
<li><p>4.メール通知の無効化を設定できるチェックボックス</p>
<ul>
<li>デフォルトでチェック状態</li>
</ul>
</li>
<li><p>5.シークレットURLを発行するボタン</p>
</li>
</ul>
</li>
<li><p>「リンク名項目」「使用回数項目」の二つの項目は未入力の場合以下のメッセージが表示される</p>
<ul>
<li><p>日本語：「項目が未入力です」</p>
</li>
<li><p>英語：「Item has not been filled in.」</p>
</li>
</ul>
<p>シークレットURLはURLを知っていれば誰でも対象のコンテンツファイルをダウンロードできるURL。（有効期限とダウンロード回数の制限を設定可能）作成されたシークレットURLはテーブルfile_secret_downloadに保存される。</p>
</li>
</ul>
</li>
<li><p>Informamation画面にて、アイテムにおいて発行したシークレットURLの一覧を表示する</p>
<ul>
<li><p>下記を全てを満たす場合表示</p>
<ul>
<li><p>1.アイテム登録者・代理投稿者およびリポジトリ管理者・システム管理者である</p>
</li>
<li><p>2.該当アイテムのシークレットURLが発行されていること</p>
</li>
</ul>
</li>
<li><p>発行済みのシークレットURLの以下の項目を表示する</p>
<ul>
<li><p>1.URL発行時に設定したリンク名</p>
</li>
<li><p>2.URLを発行した日付</p>
</li>
<li><p>3.URL発行時に設定したURLの有効期限</p>
</li>
<li><p>4.URL発行時に設定したダウンロード回数制限</p>
</li>
<li><p>5.URLの削除ボタン</p>
</li>
<li><p>6.URLのコピーボタン</p>
</li>
</ul>
</li>
<li><p>削除ボタンを押下すると、該当URLの論理削除フラグがチェックされ、非表示状態になる</p>
</li>
<li><p>コピーボタンを押下すると、該当URLをクリップボードにコピーする</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<!-- end list -->
<h3 id="6-「import-to-gakunin-rdm」機能"><a name="6-「import-to-gakunin-rdm」機能" class="plugin-anchor" href="#6-「import-to-gakunin-rdm」機能"><i class="fa fa-link" aria-hidden="true"></i></a>6. 「Import to GakuNin RDM」機能</h3>
<p>この機能は、WEKO3で公開されているGakuNin RDMプロジェクトアーカイブを、GakuNin RDMに新しいプロジェクトとしてインポートするためのものです。GakuNin RDMプロジェクトアーカイブはGakuNin RDM上でプロジェクトをエクスポートすることで作成されます。</p>
<p><strong>主な動作と条件</strong></p>
<ul>
<li><p>ボタンの表示条件: ファイルのMIME TYPEが application/rdm-project である場合にのみ、アクションボタンとして「Import to GakuNin RDM」が表示されます。</p>
</li>
<li><p>ボタンの活性条件: インポート対象のファイルが公開状態である必要があります。ファイルが非公開の場合、ボタンは表示されますが<strong>非活性（押せない状態）</strong>になります。</p>
</li>
<li><p>インポート処理: ユーザーが「Import to GakuNin RDM」ボタンを押すと、GakuNin RDMへ移動します。インポートが完了すると、アーカイブが展開され、GakuNin RDM上に新たなプロジェクトとして登録されます。</p>
</li>
<li><p>URL設定: ボタンを押した後の遷移先となるGakuNin RDMのURLは、設定項目 WEKO_RECORDS_UI_GAKUNIN_RDM_URL で変更することが可能です。</p>
</li>
</ul>
<h2 id="関連モジュール"><a name="関連モジュール" class="plugin-anchor" href="#関連モジュール"><i class="fa fa-link" aria-hidden="true"></i></a>関連モジュール</h2>
<!-- end list -->
<ul>
<li><blockquote>
<p>weko-records-ui</p>
</blockquote>
</li>
</ul>
<!-- end list -->
<h2 id="処理概要"><a name="処理概要" class="plugin-anchor" href="#処理概要"><i class="fa fa-link" aria-hidden="true"></i></a>処理概要</h2>
<h3 id="1-設定"><a name="1-設定" class="plugin-anchor" href="#1-設定"><i class="fa fa-link" aria-hidden="true"></i></a>1. 設定</h3>
<h4 id="filesrestdefaultpdfsavepath"><a name="filesrestdefaultpdfsavepath" class="plugin-anchor" href="#filesrestdefaultpdfsavepath"><i class="fa fa-link" aria-hidden="true"></i></a>FILES_REST_DEFAULT_PDF_SAVE_PATH</h4>
<ul>
<li><p>ファイルをプレビュー表示するため、ファイルからPDF形式に変換し、テンポラリーフォルダーに書き込む処理を行う</p>
</li>
<li><p>テンポラリーフォルダーの初期値は「/var/tmp」であり、以下のConfigファイルで設定できる<br></br><a href="https://github.com/RCOSDP/weko/blob/develop_v2.0.0/modules/invenio-files-rest/invenio_files_rest/config.py#L132" target="_blank">https://github.com/RCOSDP/weko/blob/develop_v2.0.0/modules/invenio-files-rest/invenio_files_rest/config.py#L132</a></p>
<ul>
<li><p>設定キー：「FILES_REST_DEFAULT_PDF_SAVE_PATH」</p>
</li>
<li><p>現在の設定値：FILES_REST_DEFAULT_PDF_SAVE_PATH = tempfile.gettempdir()</p>
</li>
</ul>
</li>
<li><p>予期せぬエラーによりファイルをテンポラリーフォルダーに書き込むことができない場合、以下のメッセージがプレビュー画面に表示される<br></br>メッセージ：「Unexpected server response (502) while retrieving PDF + ファイルパス」</p>
</li>
</ul>
<h4 id="wekorecordsuigakuninrdmurl"><a name="wekorecordsuigakuninrdmurl" class="plugin-anchor" href="#wekorecordsuigakuninrdmurl"><i class="fa fa-link" aria-hidden="true"></i></a>WEKO_RECORDS_UI_GAKUNIN_RDM_URL</h4>
<p>【Import to GakuNin RDM】ボタンを押下したときに、アクセスするGakuNin RDMのURLを指定する。</p>
<ul>
<li>設定キー：WEKO_RECORDS_UI_GAKUNIN_RDM_URL</li>
<li>現在の設定値："<a href="https://rdm.nii.ac.jp" target="_blank">https://rdm.nii.ac.jp</a>"</li>
</ul>
<p>指定されたGakuNin RDMはボタン押下後、WEKO3からファイルをダウンロードする。</p>
<h3 id="2-実装方法"><a name="2-実装方法" class="plugin-anchor" href="#2-実装方法"><i class="fa fa-link" aria-hidden="true"></i></a>2. 実装方法</h3>
<ul>
<li><p>ファイルビューアのライブラリ：pdfjs-dist (ver. 1.4.192)</p>
</li>
<li><p>weko_records_ui.permissions.check_file_download_permissionを使用する。</p>
</li>
</ul>
<h4 id="1アイテム詳細画面に表示、ダウンロードする処理"><a name="1アイテム詳細画面に表示、ダウンロードする処理" class="plugin-anchor" href="#1アイテム詳細画面に表示、ダウンロードする処理"><i class="fa fa-link" aria-hidden="true"></i></a>(1)アイテム詳細画面に表示、ダウンロードする処理</h4>
<ul>
<li><p>ファイル情報の表示処理について<br></br>アクセスしているユーザーの権限が管理者であるかどうか、weko_records_ui.permissions.check_file_download_permissionにて「WEKO_PERMISSION_SUPER_ROLE_USER」を使用する</p>
<ul>
<li><p>権限が管理者の場合、アイテムに登録されるファイルの表示形式に応じてファイルの情報を取得し、表示する</p>
</li>
<li><p>権限が管理者ではない場合、ユーザーの権限及びアクセス権限をチェックする</p>
<ul>
<li><p>コンテンツファイルに対して</p>
<ul>
<li><p>コンテンツのアクセスが「オープンアクセス」とした場合、ファイルの情報を取得し、表示する</p>
</li>
<li><p>コンテンツのアクセスが「オープンアクセス日を指定する」とした場合、以下のように制限する</p>
<ul>
<li><p>オープンアクセス日が経過していない場合、管理者または登録者、または設定されているグループに所属するユーザーには該当コンテンツファイルを表示、ダウンロードできる</p>
</li>
<li><p>オープンアクセス日が経過していない場合、権限がないユーザーには該当コンテンツファイルを表示しない<br></br>　 ⇒権限が無いユーザーには「Download is available from YYYY/MM/DD.」と表示する</p>
</li>
<li><p>オープンアクセス日が経過した場合、すべてのユーザーは該当コンテンツファイルを表示、ダウンロードができる</p>
</li>
</ul>
</li>
<li><p>コンテンツのアクセスが「ログインユーザのみ」とした場合、以下のように制限する</p>
<ul>
<li><p>weko_records_ui.permissions.checl_file_download_permissionでcheck_user_group_permissionを呼び出して使用する。</p>
</li>
<li><p>設定されているグループに所属するユーザーには該当コンテンツファイルを表示する</p>
</li>
<li><p>設定されているグループに所属しないユーザーには、該当コンテンツファイルを表示しない</p>
</li>
</ul>
</li>
<li><p>コンテンツのアクセスが「公開しない」とした場合、以下のように制限する</p>
<ul>
<li><p>weko_records_ui.permissions.checl_file_download_permissionでcheck_user_permissionを呼び出して使用する。</p>
</li>
<li><p>管理者またはアイテム登録者には該当コンテンツファイルを表示する</p>
</li>
<li><p>権限がないユーザーには該当コンテンツファイルを表示しない</p>
</li>
</ul>
</li>
<li><p>コンテンツのアクセスが「制限公開」とした場合、以下のように制限する</p>
<ul>
<li><p>WEKO_ADMIN_RESTRICTED_ACCESS_DISPLAY_FLAG が False の場合は「公開しない」と同様の制限を行う</p>
</li>
<li><p>管理者またはアイテム登録者には該当コンテンツファイルを表示する</p>
</li>
<li><p>権限がないユーザーには、「アクセス制限（Restricted Access）」と表示する</p>
<ul>
<li>「Actions」に、ダウンロードボタンのかわりに、「申請」（Apply）ボタンを表示する</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>課金ファイルに対して</p>
<ul>
<li><p>コンテンツのアクセスを「オープンアクセス」とした場合、ファイルの情報を表示する</p>
</li>
<li><p>コンテンツのアクセスを「オープンアクセス日を指定する」とした場合、以下のように制限する<br></br>・オープンアクセス日が経過していない場合、該当コンテンツファイルを表示する<br></br>・オープンアクセス日が経過した場合、該当コンテンツファイルを表示しない</p>
</li>
<li><p>コンテンツのアクセスが「ログインユーザのみ」とした場合、<br></br>・設定されているグループに所属するユーザーには該当コンテンツファイルを表示する<br></br>・設定されているグループに所属しないユーザーには、該当コンテンツファイルを表示しない</p>
</li>
<li><p>コンテンツのアクセスが「公開しない」とした場合、ファイルの情報を表示しない</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>ダウンロード処理について</p>
<ul>
<li><p>コンテンツファイルに対して<br></br>アイテム詳細画面に表示している、かつログインしている場合、ダウンロードできる</p>
</li>
<li><p>課金ファイルに対して</p>
<ul>
<li><p>コンテンツのアクセスが「オープンアクセス」とした場合、ファイルの情報を取得し、ダウンロードできる</p>
</li>
<li><p>コンテンツのアクセスが「オープンアクセス」以外とした場合、ファイルの情報を取得し、追加で以下の制限を実施する</p>
<ul>
<li><p>価格が設定されていないグループのユーザーは課金ファイルをダウンロードできない</p>
<ul>
<li>アイテム詳細画面及び課金ファイルのリンクを押下したときに、ダウンロード可能かを判断する<br></br>・ゲストユーザの場合：ログイン画面に遷移する<br></br>・設定されていないグループの場合：「本ファイルの参照権限がないためダウンロードできません。」とポップアップでエラーメッセージを表示する<br></br>・設定されているグループの場合：「本ファイルは課金ファイルです。 （価格：XXXXX）。 ダウンロードしますか。」とポップアップで確認メッセージを表示する<br></br>　はい：ファイルをダウンロードする<br></br>　いいえ：ファイルをダウンロードせず、自画面に戻る</li>
</ul>
</li>
<li><p>複数のグループに所属するユーザーには該当する価格の最低値が適用される</p>
<ul>
<li>アイテム詳細画面及びファイル詳細画面のコンテンツファイルのリンクを押下したときに、ユーザが所属しているグループを確認する<br></br>対象のユーザが複数のグループに所属していた場合は、各グループで設定している課金ファイルの価格のうち、最低値のものを採用する</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>アクセスが「制限公開」（Restricted Access）と設定されているコンテンツに対して</p>
<ul>
<li><p>weko_records_ui.permissions.check_file_download_permissionでcheck_open_restricted_permissionを呼び出して使用する。</p>
</li>
<li><p>WEKO_ADMIN_RESTRICTED_ACCESS_DISPLAY_FLAG が False の場合は「公開しない」と同様の制限となる</p>
</li>
<li><p>管理者またはアイテム登録者本人は常時ダウンロード可</p>
</li>
<li><p>その他のユーザーには、ダウンロードボタンではなく「利用申請」ボタンが表示される</p>
</li>
<li><p>その他のユーザーがファイルをダウンロードする場合、上記ボタンから利用申請を行い、管理者による承認を受けなければならない</p>
<ul>
<li><p>アイテム登録・編集画面内で、制限公開用のコンテンツファイルの「提供方法」を編集することで、どのロールのユーザーに対して利用申請を許可するかを選択できる</p>
<ul>
<li><p>上記で設定された条件に合致しないユーザが「申請」ボタンを押下した場合はモーダルで警告メッセージを表示する</p>
<ul>
<li><p>日本語：「このデータは利用できません（権限がないため）。」</p>
</li>
<li><p>英語：「This data is not available for this user.」</p>
</li>
</ul>
</li>
<li><p>上記で設定された条件に合致するユーザーがアイテム詳細画面の【申請 (Apply)」ボタンを押下した際に利用申請設定時に設定されている利用規約をモーダル画面に表示する</p>
<ul>
<li><p>利用規約について</p>
<ul>
<li><p>利用規約文表示エリア上部に「利用規約 (Terms and Conditions)」を固定で表示する</p>
</li>
<li><p>利用規約文表示エリア下部に「利用規約を確認の上、スクロール最下部にある「利用規約に同意する」にチェックを入れてください (I have read and agreed to the Terms and conditions)」を固定で表示する</p>
</li>
<li><p>「利用規約に同意する」ラベルクリック時もチェックボックスのオンオフができるようにする</p>
</li>
<li><p>利用規約を最後まで確認すると「利用規約に同意する」チェックボックスをチェックできる。チェック前は「次へ」ボタンを非活性とする</p>
</li>
</ul>
</li>
<li><p>利用規約画面での「次へ」ボタンを押下する挙動について</p>
<ul>
<li><p>「 提供方法：ロール (Providing Method: Role)」が「Guest（非ログインユーザ）」で設定される場合、メールアドレスが入力できるモーダル画面が表示される。メールアドレスを入力し「Enable」ボタンを押下するとメールが送付される。</p>
<ul>
<li><p>受信したメール文のリンクをクリックするとワークフローに定義されているアクション画面（アイテム登録画面など）に遷移する</p>
</li>
<li><p>リンクはランダムなURLとトークン値から構成し、両者が一致した場合に利用登録ワークフローへのリンクとして機能する</p>
</li>
</ul>
</li>
<li><p>「Contributor」等の任意のロールが「提供方法：ワークフロー (Providing Method: WorkFlow)」で設定される場合、指定されたワークフローの画面に遷移する</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>利用申請が管理者によって承認された場合、対象ファイルをダウンロードできる一時的なURL(以下、ワンタイムURL)が発行される</p>
<ul>
<li><p>ワンタイムURLはメール送信によって利用申請者に通達される</p>
</li>
<li><p>ワンタイムURLの有効期限及びダウンロード回数上限は、【Administration &gt; 設定 (Setting) &gt; 制限公開 (Restricted Access)画面】での「コンテンツファイルのダウンロード」(Content File Download)エリアで設定される</p>
</li>
<li><p>作成されたワンタイムURLはテーブルfile_onetime_downloadに保存される</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>　　　　　　　　　　- ワンタイムURLは以下のロジックにより生成される</p>
<pre class="language-"><code>                  - 「シークレットキー」「URL発行日」「URLのID」「アイテムID」「ファイル名」「有効期限」「ダウンロード上限回数」を足し合わせたバイト列から、SHA-256アルゴリズムでハッシュ値を作成

                  - 上記「ハッシュ値」と「デリミタ(アンダースコア)」,「URLのID」を連結しbase64形式でエンコードし、これをトークンとする

              - アイテム登録者と管理者には、ファイルのInformamation画面に現在「有効」であるワンタイムURLの一覧が表示される

                  - 以下の要件をすべて満たす場合、そのURLは「有効」であると見なされる

                      - ダウンロードされた回数が、指定されたダウンロード回数上限に満たない

                      - 有効期限内である

                      - 削除フラグが無効である

                  - ワンタイムURL一覧表には以下の項目が表示される

                      - 1.URL利用者(=利用申請を行ったユーザー)のメールアドレス

                      - 2.URLが発行された日付

                      - 3.URLの有効期限

                      - 4.ダウンロード回数制限

                      - 5.URLの削除ボタン

                      - 6.URLのコピーボタン

                          - 削除ボタンを押下すると、該当URLの論理削除フラグがチェックされ、非表示状態になる

                          - コピーボタンを押下すると、該当URLをクリップボードにコピーする

          - 有効なワンタイムURLにアクセスした場合、コンテンツファイルがダウンロードできる。

              - 有効期限を超過している場合、エラーメッセージが表示される

                  - 日本語：「ダウンロード有効期限を超過しています。」

                  -  英語：「 The expiration date for download has been exceeded. 」

              - ダウンロード回数を超過している場合、エラーメッセージが表示される

                  - 日本語：「ダウンロード上限回数を超過しています。」

                  - 英語：「 The download limit has been exceeded. 」

              - 論理削除フラグが立っている場合、エラーメッセージが表示される

                  - 日本語：「このURLは削除されました。」

                  - 英語：「 This URL has been deactivated. 」

          - 利用申請を承認されたユーザーには、申請ボタンではなくダウンロードボタンが表示されるようになる

              - 発行されたワンタイムURLが失効した場合、申請ボタンに戻る

              - 申請ボタンからダウンロードボタンになるのは、そのアイテムの制限公開のコンテンツファイルすべて（承認が行われた時点でのすべて）である。

                  - ひとつの制限公開ファイルに対して利用申請が行われ、それが承認された場合、同アイテムに含まれるすべての制限公開ファイルに対するURLがそれぞれ発行される

                  - 利用申請後にダウンロードボタンを使用する場合、ワンタイムURLへリダイレクトが行われるため、リンクに直接アクセスする場合と内部の処理は同様である

          - 各ワンタイムURLの初回利用時、ユーザーのアカウントに応じた利用報告ワークフローのリンクが利用者にメールで通知される

              - ゲストユーザの利用報告ワークフローに対して、
                リンクの有効期限は【Administration \&gt; Setting \&gt; Restricted Access画面】での「利用報告ワークフローへのアクセス」(Usage Report Workflow Access)エリアで設定される

                  - 設定された有効期限を超過した場合、対象の利用報告ワークフローのステータスを「キャンセル」に自動で更新する

                  - 設定された有効期限を超過したリンクにアクセスした場合は、エラーページを表示する

                      - weko\_workflow.utils.validate\_guest\_activity\_expiredを使用する。

                      - 日本語：「指定したリンクはアクセス有効期限を超過しています。 」

                      - 英語：「The specified link has expired.」
</code></pre><!-- 
              - シークレットURLを使用しダウンロードした場合運用側で以下の内容を取得しログをテーブルfile_url_download_logにレコードを作成、査読者を追跡できる

                  - 「作成日時」

                  - 「更新日時」

                  - 「識別子」

                  - 「URL種別」

                  - 「シークレットURLID」

                  - 「IPアドレス」

                  - 「ファイルのアクセス形態」

                  - 「URLトークン」 -->
<ul>
<li><p>シークレットURLについて</p>
<ul>
<li><p>シークレットURLへアクセスしたとき、URL論理削除フラグが立っておらず、またURLの有効期限とダウンロード回数が超えない場合、コンテンツファイルがダウンロードされる</p>
<ul>
<li><p>有効期限を超過している場合、エラーメッセージが表示される</p>
<ul>
<li><p>日本語：「ダウンロード有効期限を超過しています。」</p>
</li>
<li><p>英語：「 The expiration date for download has been exceeded. 」</p>
</li>
</ul>
</li>
<li><p>ダウンロード回数を超過している場合、エラーメッセージが表示される</p>
<ul>
<li><p>日本語：「ダウンロード上限回数を超過しています。」</p>
</li>
<li><p>英語：「 The download limit has been exceeded. 」</p>
</li>
</ul>
</li>
<li><p>URL論理削除フラグが立っている場合</p>
<ul>
<li><p>日本語：「このURLは削除されました。」</p>
</li>
<li><p>英語：「This URL has been deactivated.」</p>
</li>
</ul>
</li>
</ul>
</li>
<li><p>有効期限とダウンロード回数は、URLごとに管理される。（制限公開の有効期限・ダウンロード回数とは別管理となる）</p>
</li>
<li><p>シークレットURLは以下のロジックにより生成される</p>
<ul>
<li><p>「シークレットキー」「URL発行日」「URLのID」「アイテムID」「ファイル名」「有効期限」「ダウンロード上限回数」を足し合わせたバイト列から、SHA-256アルゴリズムでハッシュ値を作成</p>
</li>
<li><p>上記「ハッシュ値」と「デリミタ(アンダースコア)」,「URLのID」を連結しbase64形式でエンコードし、これをトークンとする</p>
</li>
</ul>
</li>
<li><p>ダウンロード時は上記トークンをbase64形式でデコードし、取得されたURLのIDから再度ハッシュ値を生成し、両者の値を比較検証する</p>
</li>
<li><p>上記の仕様によりURL情報を格納するテーブルのスキーマに変更が生じた場合は全シークレットURLが無効となるため、各URLに対して再発行を行う必要がある</p>
</li>
</ul>
</li>
<li><p>「PDFカバーページ」処理について</p>
<ul>
<li><p>ファイルのプレビュー及びファイルダウンロードにて、「PDFカバーページ」処理を実施する</p>
</li>
<li><p>weko_records_ui.admin.PdfCoverPageSettingView.indexを使用する。</p>
</li>
<li><p>以下の条件を満たす場合、PDFカバーページを作成する</p>
<ul>
<li><p>ファイルのプレビューの権限がある</p>
</li>
<li><p>【Administration &gt; Setting &gt; PDF Cover Page】及び【Administration &gt; インデックスツリー管理 (Index Tree) &gt; ツリー編集 (Edit Tree)】でPDFカバーページの設定が有効になっている</p>
</li>
<li><p>対象ファイルの形式は「PDF」形式である</p>
</li>
<li><p>対象ファイルがパスワード付かない</p>
</li>
</ul>
</li>
</ul>
</li>
<li><p>プレビュー表示処理について</p>
<ul>
<li>コンテンツファイルが「preview」の場合、詳細画面にプレビューを表示する。<br></br>weko_records_ui.utils.get_file_info_listを使用する</li>
</ul>
</li>
</ul>
<h4 id="2-ファイル詳細画面に表示、ダウンロードする処理"><a name="2-ファイル詳細画面に表示、ダウンロードする処理" class="plugin-anchor" href="#2-ファイル詳細画面に表示、ダウンロードする処理"><i class="fa fa-link" aria-hidden="true"></i></a>(2) ファイル詳細画面に表示、ダウンロードする処理</h4>
<ul>
<li><p>表示処理について</p>
<ul>
<li><p>該当アイテムが公開しているかどうか、チェックする</p>
<ul>
<li><p>該当アイテムが非公開である場合</p>
<ul>
<li><p>ゲストユーザに対してログインリクエストとする</p>
</li>
<li><p>該当登録者、管理者の場合、ファイルの情報（バージョン情報を含む）を取得し、表示する</p>
</li>
<li><p>他の権限に対して、「権限が必要です」のエラーメッセージを表示する</p>
</li>
</ul>
</li>
<li><p>該当アイテムが公開している場合<br></br>(1)での「ファイル情報の表示処理について」のようにチェックする</p>
</li>
</ul>
</li>
<li><p>権限があるユーザには、該当するファイル詳細画面に表示する</p>
</li>
<li><p>権限がないユーザには、「アクセス権限」のエラーメッセージを表示する</p>
</li>
</ul>
</li>
<li><p>プレビュー表示処理について(1)での「プレビュー表示処理について」のようにチェックする</p>
</li>
<li><p>ダウンロード処理について<br></br>(1)での「ダウンロード処理について」のようにチェックする</p>
</li>
</ul>
<h4 id="3ファイルバージョンの情報をwekorecordsuiviewdefaultviewmethodで取得し、更新履歴情報を表示する"><a name="3ファイルバージョンの情報をwekorecordsuiviewdefaultviewmethodで取得し、更新履歴情報を表示する" class="plugin-anchor" href="#3ファイルバージョンの情報をwekorecordsuiviewdefaultviewmethodで取得し、更新履歴情報を表示する"><i class="fa fa-link" aria-hidden="true"></i></a>(3)ファイルバージョンの情報をweko_records_ui.view.default_view_methodで取得し、更新履歴情報を表示する</h4>
<ul>
<li><p>データベースから該当ファイルの情報を以下のように取得する</p>
<ul>
<li><p>更新日時：files_object.updated</p>
</li>
<li><p>オブジェクトファイル名：files_objectkey</p>
</li>
<li><p>ファイル容量：files_files.size</p>
</li>
<li><p>ファイルハッシュ値：files_files.checksum</p>
</li>
<li><p>投稿者名：userprofiles_userprofile.username</p>
</li>
<li><p>表示/非表示：files_object.is_show</p>
</li>
</ul>
</li>
</ul>
<p>【補足】</p>
<ul>
<li>ファイルプレビューのビューアは、ファイルのアクセス権限と同様。<br></br>ファイルのアクセス権限がないユーザーは、ファイルプレビュー及びファイルの情報を見ることはできない</li>
</ul>
<h4 id="4マルチパートダウンロード処理について"><a name="4マルチパートダウンロード処理について" class="plugin-anchor" href="#4マルチパートダウンロード処理について"><i class="fa fa-link" aria-hidden="true"></i></a>(4)マルチパートダウンロード処理について</h4>
<ul>
<li><p>ファイルダウンロードの際にテーブルfile_url_download_logにレコードを作成し、査読者を追跡できる。ログは以下のように情報を記録する。</p>
<ul>
<li>作成日時：ダウンロード日時</li>
<li>更新日時：作成日時と同値。原則作成日時と別の値にはならない</li>
<li>識別子：自動生成の連番</li>
<li>URL種別：2つの値のうち1つを取る列挙型。シークレットURLの場合「secret」、ワンタイムURLの場合は「onetime」という値を取る</li>
<li>シークレットURL ID：種別が「onetime」の場合null</li>
<li>ワンタイムURL ID：種別が「secret」の場合null</li>
<li>IPアドレス：種別が「onetime」の場合null</li>
<li>ファイルのアクセス形態：3つの値のうち１つを取る列挙型。非公開の場合「open_no」、エンバーゴの場合「open_date」、制限公開の場合「open_restricted」</li>
<li>URLトークン：URLのトークン</li>
</ul>
</li>
</ul>
<p>(4)マルチパートダウンロード処理について</p>
<ul>
<li><p>閾値を超えるサイズのファイルについては、マルチパートダウンロードを行う。マルチパートダウンロードは、本文URLとは異なるURLからファイルをダウンロードできる。</p>
</li>
<li><p>閾値は、定数「MAX_DOWNLOAD_SIZE_AT_ONE_TIME」にて設定できる。1パートあたりのサイズは、定数「 DOWNLOAD_SIZE_IN_ONE_PART」にて設定できる。</p>
</li>
</ul>
<!-- end list -->
<ul>
<li><p>ダウンロードのボタン・リンクを押下すると、大容量ファイルダウンロードを開始する旨のメッセージが表示される。</p>
</li>
<li><p>OK押下すると、「名前を付けて保存」のファイルピッカーを表示する。</p>
</li>
<li><p>ファイルピッカーにて、ダウンロードファイルの名前を指定すると、ファイルダウンロードが開始される。ダウンロード中は画面操作が行えなくなり、また画面を閉じるとダウンロードが中断されてしまう。</p>
</li>
<li><p>ダウンロード処理が完了すると、画面操作が行えるようになり、成功時は緑の帯で、失敗時は赤帯でメッセージが表示される。</p>
</li>
<li><p>マルチパートダウンロードでは、通常のダウンロードと同じファイルアクセス権限チェックが行われる。</p>
</li>
<li><p>マルチパートダウンロードでは、パートの一番最後のダウンロードのタイミングで統計情報が送信される。</p>
</li>
<li><p>マルチパートダウンロードでは、PDFカバーページには対応していない。</p>
</li>
</ul>
<p>1TBファイルまではダウンロードの動作を確認済みだが、それより大きいファイルについては、動作を保証していない。</p>
<h2 id="更新履歴"><a name="更新履歴" class="plugin-anchor" href="#更新履歴"><i class="fa fa-link" aria-hidden="true"></i></a>更新履歴</h2>
<table>
<thead>
<tr>
<th>日付</th>
<th>GitHubコミットID</th>
<th>更新内容</th>
</tr>
</thead>
<tbody>
<tr>
<td>2023/08/31</td>
<td>353ba1deb094af5056a58bb40f07596b8e95a562</td>
<td>初版作成</td>
</tr>
<tr>
<td>2023/11/11</td>
<td></td>
<td>V0.9.27</td>
</tr>
<tr>
<td>2023/12/22</td>
<td>4ec162bf3bdcf843df23863fbf7d5bb36ba875e4</td>
<td>W2023-42</td>
</tr>
<tr>
<td>2024/07/1</td>
<td>7733de131da9ad59ab591b2df1c70ddefcfcad98</td>
<td>v1.0.7対応</td>
</tr>
<tr>
<td>2025/09/15</td>
<td>c387c0a978c9eb318044b3d17d72838872012370</td>
<td>Import to GakuNin RDM機能を追加</td>
</tr>
<tr>
<td>2025/10/31</td>
<td>160a811eed2c61492558905db34fa0619da6b18f</td>
<td>設定値による機能制御を記載</td>
</tr>
</tbody>
</table>
</body></html>
                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="USER_3_1.html" class="navigation navigation-prev " aria-label="Previous page: USER-3-1: メタデータ表示 44">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="USER_3_3.html" class="navigation navigation-next " aria-label="Next page: USER-3-3: アイテムバージョン管理 63">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"USER-3-2: コンテンツファイル管理 51","level":"2.11","depth":1,"next":{"title":"USER-3-3: アイテムバージョン管理 63","level":"2.12","depth":1,"path":"user/USER_3_3.md","ref":"./user/USER_3_3.md","articles":[]},"previous":{"title":"USER-3-1: メタデータ表示 44","level":"2.10","depth":1,"path":"user/USER_3_1.md","ref":"./user/USER_3_1.md","articles":[]},"dir":"ltr"},"config":{"plugins":["intopic-toc","back-to-top-button","anchors","collapsible-chapters","hide-published-with","plantuml-cloud","prism","-highlight"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"prism":{},"intopic-toc":{"selector":".markdown-section h1, .markdown-section h2, .markdown-section h3, .markdown-section h4, .markdown-section h5, .markdown-section h6","mode":"nested","maxDepth":6,"isCollapsed":true,"isScrollspyActive":true,"visible":true,"label":"In this article"},"search":{},"collapsible-chapters":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"hide-published-with":{},"plantuml-cloud":{},"fontsettings":{"theme":"white","family":"sans","size":2},"back-to-top-button":{},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false},"anchors":{}},"theme":"default","author":"Research Center for Open Science and Data Platform, National Institute of Informatics","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56},"embedFonts":false},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"機能仕様書","language":"ja","gitbook":"*","description":""},"file":{"path":"user/USER_3_2.md","mtime":"2025-11-12T10:08:33.048Z","type":"markdown"},"gitbook":{"version":"6.1.4","time":"2025-12-31T14:49:00.748Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <noscript>
        <style>
            .honkit-cloak {
                display: block !important;
            }
        </style>
    </noscript>
    <script>
        // Restore sidebar state as critical path for prevent layout shift
        function __init__getSidebarState(defaultValue){
            var baseKey = "";
            var key = baseKey + ":sidebar";
            try {
                var value = localStorage[key];
                if (value === undefined) {
                    return defaultValue;
                }
                var parsed = JSON.parse(value);
                return parsed == null ? defaultValue : parsed;
            } catch (e) {
                return defaultValue;
            }
        }
        function __init__restoreLastSidebarState() {
            var isMobile = window.matchMedia("(max-width: 600px)").matches;
            if (isMobile) {
                // Init last state if not mobile
                return;
            }
            var sidebarState = __init__getSidebarState(true);
            var book = document.querySelector(".book");
            // Show sidebar if it enabled
            if (sidebarState && book) {
                book.classList.add("without-animation", "with-summary");
            }
        }

        try {
            __init__restoreLastSidebarState();
        } finally {
            var book = document.querySelector(".book");
            book.classList.remove("honkit-cloak");
        }
    </script>
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-intopic-toc/anchor.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-intopic-toc/gumshoe.polyfills.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-intopic-toc/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-back-to-top-button/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-collapsible-chapters/collapsible-chapters.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-hide-published-with/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/@honkit/honkit-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

